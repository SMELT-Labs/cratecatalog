import{c as xf}from"./_commonjsHelpers.4e997714.js";(async()=>{(function(){(function(e){(function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function r(d){return d&&DataView.prototype.isPrototypeOf(d)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(d){return d&&i.indexOf(Object.prototype.toString.call(d))>-1};function s(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function u(d){return typeof d!="string"&&(d=String(d)),d}function o(d){var m={next:function(){var R=d.shift();return{done:R===void 0,value:R}}};return n.iterable&&(m[Symbol.iterator]=function(){return m}),m}function f(d){this.map={},d instanceof f?d.forEach(function(m,R){this.append(R,m)},this):Array.isArray(d)?d.forEach(function(m){this.append(m[0],m[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(m){this.append(m,d[m])},this)}f.prototype.append=function(d,m){d=s(d),m=u(m);var R=this.map[d];this.map[d]=R?R+", "+m:m},f.prototype.delete=function(d){delete this.map[s(d)]},f.prototype.get=function(d){return d=s(d),this.has(d)?this.map[d]:null},f.prototype.has=function(d){return this.map.hasOwnProperty(s(d))},f.prototype.set=function(d,m){this.map[s(d)]=u(m)},f.prototype.forEach=function(d,m){for(var R in this.map)this.map.hasOwnProperty(R)&&d.call(m,this.map[R],R,this)},f.prototype.keys=function(){var d=[];return this.forEach(function(m,R){d.push(R)}),o(d)},f.prototype.values=function(){var d=[];return this.forEach(function(m){d.push(m)}),o(d)},f.prototype.entries=function(){var d=[];return this.forEach(function(m,R){d.push([R,m])}),o(d)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function c(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function h(d){return new Promise(function(m,R){d.onload=function(){m(d.result)},d.onerror=function(){R(d.error)}})}function p(d){var m=new FileReader,R=h(m);return m.readAsArrayBuffer(d),R}function l(d){var m=new FileReader,R=h(m);return m.readAsText(d),R}function g(d){for(var m=new Uint8Array(d),R=new Array(m.length),k=0;k<m.length;k++)R[k]=String.fromCharCode(m[k]);return R.join("")}function y(d){if(d.slice)return d.slice(0);var m=new Uint8Array(d.byteLength);return m.set(new Uint8Array(d)),m.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:n.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:n.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():n.arrayBuffer&&n.blob&&r(d)?(this._bodyArrayBuffer=y(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||a(d))?this._bodyArrayBuffer=y(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var d=c(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var d=c(this);if(d)return d;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(d){var m=d.toUpperCase();return w.indexOf(m)>-1?m:d}function j(d,m){m=m||{};var R=m.body;if(d instanceof j){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,m.headers||(this.headers=new f(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!R&&d._bodyInit!=null&&(R=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new f(m.headers)),this.method=P(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(R)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function E(d){var m=new FormData;return d.trim().split("&").forEach(function(R){if(R){var k=R.split("="),A=k.shift().replace(/\+/g," "),T=k.join("=").replace(/\+/g," ");m.append(decodeURIComponent(A),decodeURIComponent(T))}}),m}function x(d){var m=new f,R=d.replace(/\r?\n[\t ]+/g," ");return R.split(/\r?\n/).forEach(function(k){var A=k.split(":"),T=A.shift().trim();if(T){var D=A.join(":").trim();m.append(T,D)}}),m}b.call(j.prototype);function F(d,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new f(m.headers),this.url=m.url||"",this._initBody(d)}b.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},F.error=function(){var d=new F(null,{status:0,statusText:""});return d.type="error",d};var q=[301,302,303,307,308];F.redirect=function(d,m){if(q.indexOf(m)===-1)throw new RangeError("Invalid status code");return new F(null,{status:m,headers:{location:d}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(d,m){this.message=d,this.name=m;var R=Error(d);this.stack=R.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function v(d,m){return new Promise(function(R,k){var A=new j(d,m);if(A.signal&&A.signal.aborted)return k(new t.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function D(){T.abort()}T.onload=function(){var he={status:T.status,statusText:T.statusText,headers:x(T.getAllResponseHeaders()||"")};he.url="responseURL"in T?T.responseURL:he.headers.get("X-Request-URL");var te="response"in T?T.response:T.responseText;R(new F(te,he))},T.onerror=function(){k(new TypeError("Network request failed"))},T.ontimeout=function(){k(new TypeError("Network request failed"))},T.onabort=function(){k(new t.DOMException("Aborted","AbortError"))},T.open(A.method,A.url,!0),A.credentials==="include"?T.withCredentials=!0:A.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&n.blob&&(T.responseType="blob"),A.headers.forEach(function(he,te){T.setRequestHeader(te,he)}),A.signal&&(A.signal.addEventListener("abort",D),T.onreadystatechange=function(){T.readyState===4&&A.signal.removeEventListener("abort",D)}),T.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return v.polyfill=!0,e.fetch||(e.fetch=v,e.Headers=f,e.Request=j,e.Response=F),t.Headers=f,t.Request=j,t.Response=F,t.fetch=v,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:xf)})();var Ji={},Nt=function(e,t){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Nt(e,t)};function Ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nt(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Y.apply(this,arguments)};function _(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(c){try{f(r.next(c))}catch(h){s(h)}}function o(c){try{f(r.throw(c))}catch(h){s(h)}}function f(c){c.done?a(c.value):i(c.value).then(u,o)}f((r=r.apply(e,t||[])).next())})}function O(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(c){return o([f,c])}}function o(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(c){f=[6,c],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Tn=function(e){Ne(t,e);function t(n,r,i,a){var s=this,u,o,f;return s=e.call(this,n)||this,s.name="MeiliSearchCommunicationError",s.type="MeiliSearchCommunicationError",r instanceof Response&&(s.message=r.statusText,s.statusCode=r.status),r instanceof Error&&(s.errno=r.errno,s.code=r.code),a?(s.stack=a,s.stack=(u=s.stack)===null||u===void 0?void 0:u.replace(/(TypeError|FetchError)/,s.name),s.stack=(o=s.stack)===null||o===void 0?void 0:o.replace("Failed to fetch","request to ".concat(i," failed, reason: connect ECONNREFUSED")),s.stack=(f=s.stack)===null||f===void 0?void 0:f.replace("Not Found","Not Found: ".concat(i))):Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return t}(Error),Ht=function(e){Ne(t,e);function t(n,r){var i=e.call(this,n.message)||this;return i.name="MeiliSearchApiError",i.code=n.code,i.type=n.type,i.link=n.link,i.message=n.message,i.httpStatus=r,Object.setPrototypeOf(i,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,Ht),i}return t}(Error);function zi(e){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:if(e.ok)return[3,5];t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.json()];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),new Tn(e.statusText,e,e.url);case 4:throw new Ht(t,e.status);case 5:return[2,e]}})})}function Gi(e,t,n){throw e.type!=="MeiliSearchApiError"?new Tn(e.message,e,n,t):e}var qt=function(e){Ne(t,e);function t(n){var r=e.call(this,n)||this;return r.name="MeiliSearchError",r.type="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return t}(Error),kn=function(e){Ne(t,e);function t(n){var r=e.call(this,n)||this;return r.name="MeiliSearchTimeOutError",r.type=r.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return t}(Error);function An(e){return Object.entries(e).reduce(function(t,n){var r=n[0],i=n[1];return i!==void 0&&(t[r]=i),t},{})}function Dn(e){return _(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,new Promise(function(n){return setTimeout(n,e)})];case 1:return[2,t.sent()]}})})}function Yi(e){return e.startsWith("https://")||e.startsWith("http://")?e:"http://".concat(e)}function Zi(e){return e.endsWith("/")||(e+="/"),e}function Xi(e){try{return e=Yi(e),e=Zi(e),e}catch{throw new qt("The provided host is not valid.")}}var ze=function(){function e(t){this.headers=Object.assign({},t.headers||{}),this.headers["Content-Type"]="application/json",t.apiKey&&(this.headers.Authorization="Bearer ".concat(t.apiKey));try{var n=Xi(t.host);this.url=new URL(n)}catch{throw new qt("The provided host is not valid.")}}return e.prototype.request=function(t){var n=t.method,r=t.url,i=t.params,a=t.body,s=t.config;return _(this,void 0,void 0,function(){var u,o,f,c,h,p,l;return O(this,function(g){switch(g.label){case 0:u=new URL(r,this.url),i&&(o=new URLSearchParams,Object.keys(i).filter(function(y){return i[y]!==null}).map(function(y){return o.set(y,i[y])}),u.search=o.toString()),g.label=1;case 1:return g.trys.push([1,4,,5]),[4,fetch(u.toString(),Y(Y({},s),{method:n,body:JSON.stringify(a),headers:this.headers})).then(function(y){return zi(y)})];case 2:return f=g.sent(),[4,f.text()];case 3:c=g.sent();try{return h=JSON.parse(c),[2,h]}catch{return[2]}return[3,5];case 4:return p=g.sent(),l=p.stack,Gi(p,l,u.toString()),[3,5];case 5:return[2]}})})},e.prototype.get=function(t,n,r){return _(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return[4,this.request({method:"GET",url:t,params:n,config:r})];case 1:return[2,i.sent()]}})})},e.prototype.post=function(t,n,r,i){return _(this,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return[4,this.request({method:"POST",url:t,body:n,params:r,config:i})];case 1:return[2,a.sent()]}})})},e.prototype.put=function(t,n,r,i){return _(this,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return[4,this.request({method:"PUT",url:t,body:n,params:r,config:i})];case 1:return[2,a.sent()]}})})},e.prototype.patch=function(t,n,r,i){return _(this,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return[4,this.request({method:"PATCH",url:t,body:n,params:r,config:i})];case 1:return[2,a.sent()]}})})},e.prototype.delete=function(t,n,r,i){return _(this,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return[4,this.request({method:"DELETE",url:t,body:n,params:r,config:i})];case 1:return[2,a.sent()]}})})},e}(),In=function(){function e(t){this.httpRequest=new ze(t)}return e.prototype.getClientTask=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="tasks/".concat(t),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}})})},e.prototype.getClientTasks=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="tasks",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.getIndexTask=function(t,n){return _(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r="indexes/".concat(t,"/tasks/").concat(n),[4,this.httpRequest.get(r)];case 1:return[2,i.sent()]}})})},e.prototype.getIndexTasks=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(t,"/tasks"),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}})})},e.prototype.waitForClientTask=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){var o,f;return O(this,function(c){switch(c.label){case 0:o=Date.now(),c.label=1;case 1:return Date.now()-o<a?[4,this.getClientTask(t)]:[3,4];case 2:return f=c.sent(),["enqueued","processing"].includes(f.status)?[4,Dn(u)]:[2,f];case 3:return c.sent(),[3,1];case 4:throw new kn("timeout of ".concat(a,"ms has exceeded on process ").concat(t," when waiting a task to be resolved."))}})})},e.prototype.waitForClientTasks=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){var o,f,c,h,p;return O(this,function(l){switch(l.label){case 0:o=[],f=0,c=t,l.label=1;case 1:return f<c.length?(h=c[f],[4,this.waitForClientTask(h,{timeOutMs:a,intervalMs:u})]):[3,4];case 2:p=l.sent(),o.push(p),l.label=3;case 3:return f++,[3,1];case 4:return[2,{results:o}]}})})},e.prototype.waitForIndexTask=function(t,n,r){var i=r===void 0?{}:r,a=i.timeOutMs,s=a===void 0?5e3:a,u=i.intervalMs,o=u===void 0?50:u;return _(this,void 0,void 0,function(){var f,c;return O(this,function(h){switch(h.label){case 0:f=Date.now(),h.label=1;case 1:return Date.now()-f<s?[4,this.getIndexTask(t,n)]:[3,4];case 2:return c=h.sent(),["enqueued","processing"].includes(c.status)?[4,Dn(o)]:[2,c];case 3:return h.sent(),[3,1];case 4:throw new kn("timeout of ".concat(s,"ms has exceeded on process ").concat(n," when waiting for pending update to resolve."))}})})},e}(),Re=function(){function e(t,n,r){this.uid=n,this.primaryKey=r,this.httpRequest=new ze(t),this.tasks=new In(t)}return e.prototype.search=function(t,n,r){return _(this,void 0,void 0,function(){var i;return O(this,function(a){switch(a.label){case 0:return i="indexes/".concat(this.uid,"/search"),[4,this.httpRequest.post(i,An(Y(Y({},n),{q:t})),void 0,r)];case 1:return[2,a.sent()]}})})},e.prototype.searchGet=function(t,n,r){var i,a,s,u,o;return _(this,void 0,void 0,function(){var f,c,h;return O(this,function(p){switch(p.label){case 0:return f="indexes/".concat(this.uid,"/search"),c=function(l){if(typeof l=="string")return l;if(Array.isArray(l))throw new qt("The filter query parameter should be in string format when using searchGet")},h=Y(Y({q:t},n),{filter:c(n==null?void 0:n.filter),sort:(i=n==null?void 0:n.sort)===null||i===void 0?void 0:i.join(","),facetsDistribution:(a=n==null?void 0:n.facetsDistribution)===null||a===void 0?void 0:a.join(","),attributesToRetrieve:(s=n==null?void 0:n.attributesToRetrieve)===null||s===void 0?void 0:s.join(","),attributesToCrop:(u=n==null?void 0:n.attributesToCrop)===null||u===void 0?void 0:u.join(","),attributesToHighlight:(o=n==null?void 0:n.attributesToHighlight)===null||o===void 0?void 0:o.join(",")}),[4,this.httpRequest.get(f,An(h),r)];case 1:return[2,p.sent()]}})})},e.prototype.getRawInfo=function(){return _(this,void 0,void 0,function(){var t,n;return O(this,function(r){switch(r.label){case 0:return t="indexes/".concat(this.uid),[4,this.httpRequest.get(t)];case 1:return n=r.sent(),this.primaryKey=n.primaryKey,[2,n]}})})},e.prototype.fetchInfo=function(){return _(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.getRawInfo()];case 1:return t.sent(),[2,this]}})})},e.prototype.fetchPrimaryKey=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t=this,[4,this.getRawInfo()];case 1:return t.primaryKey=n.sent().primaryKey,[2,this.primaryKey]}})})},e.create=function(t,n,r){return n===void 0&&(n={}),_(this,void 0,void 0,function(){var i,a;return O(this,function(s){return i="indexes",a=new ze(r),[2,a.post(i,Y(Y({},n),{uid:t}))]})})},e.prototype.update=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid),[4,this.httpRequest.put(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.delete=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getTasks=function(){return _(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.tasks.getIndexTasks(this.uid)];case 1:return[2,t.sent()]}})})},e.prototype.getTask=function(t){return _(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this.tasks.getIndexTask(this.uid,t)];case 1:return[2,n.sent()]}})})},e.prototype.waitForTasks=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this.tasks.waitForClientTasks(t,{timeOutMs:a,intervalMs:u})];case 1:return[2,o.sent()]}})})},e.prototype.waitForTask=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this.tasks.waitForClientTask(t,{timeOutMs:a,intervalMs:u})];case 1:return[2,o.sent()]}})})},e.prototype.getStats=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/stats"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.getDocuments=function(t){return _(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return n="indexes/".concat(this.uid,"/documents"),t!==void 0&&Array.isArray(t.attributesToRetrieve)&&(r=t.attributesToRetrieve.join(",")),[4,this.httpRequest.get(n,Y(Y({},t),r!==void 0?{attributesToRetrieve:r}:{}))];case 1:return[2,i.sent()]}})})},e.prototype.getDocument=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/documents/").concat(t),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}})})},e.prototype.addDocuments=function(t,n){return _(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.post(r,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.addDocumentsInBatches=function(t,n,r){return n===void 0&&(n=1e3),_(this,void 0,void 0,function(){var i,a,s,u;return O(this,function(o){switch(o.label){case 0:i=[],a=0,o.label=1;case 1:return a<t.length?(u=(s=i).push,[4,this.addDocuments(t.slice(a,a+n),r)]):[3,4];case 2:u.apply(s,[o.sent()]),o.label=3;case 3:return a+=n,[3,1];case 4:return[2,i]}})})},e.prototype.updateDocuments=function(t,n){return _(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.put(r,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.updateDocumentsInBatches=function(t,n,r){return n===void 0&&(n=1e3),_(this,void 0,void 0,function(){var i,a,s,u;return O(this,function(o){switch(o.label){case 0:i=[],a=0,o.label=1;case 1:return a<t.length?(u=(s=i).push,[4,this.updateDocuments(t.slice(a,a+n),r)]):[3,4];case 2:u.apply(s,[o.sent()]),o.label=3;case 3:return a+=n,[3,1];case 4:return[2,i]}})})},e.prototype.deleteDocument=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/documents/").concat(t),[4,this.httpRequest.delete(n)];case 1:return[2,r.sent()]}})})},e.prototype.deleteDocuments=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/documents/delete-batch"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.deleteAllDocuments=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getSettings=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateSettings=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetSettings=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getSynonyms=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateSynonyms=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetSynonyms=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getStopWords=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateStopWords=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetStopWords=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getRankingRules=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateRankingRules=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetRankingRules=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getDistinctAttribute=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateDistinctAttribute=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetDistinctAttribute=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getFilterableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateFilterableAttributes=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetFilterableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getSortableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateSortableAttributes=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetSortableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getSearchableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateSearchableAttributes=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetSearchableAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getDisplayedAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateDisplayedAttributes=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetDisplayedAttributes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e.prototype.getTypoTolerance=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.updateTypoTolerance=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.resetTypoTolerance=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},e}(),ea=function(){function e(t){this.config=t,this.httpRequest=new ze(t),this.tasks=new In(t)}return e.prototype.index=function(t){return new Re(this.config,t)},e.prototype.getIndex=function(t){return _(this,void 0,void 0,function(){return O(this,function(n){return[2,new Re(this.config,t).fetchInfo()]})})},e.prototype.getRawIndex=function(t){return _(this,void 0,void 0,function(){return O(this,function(n){return[2,new Re(this.config,t).getRawInfo()]})})},e.prototype.getIndexes=function(){return _(this,void 0,void 0,function(){var t,n,r=this;return O(this,function(i){switch(i.label){case 0:return[4,this.getRawIndexes()];case 1:return t=i.sent(),n=t.map(function(a){return new Re(r.config,a.uid,a.primaryKey)}),[2,n]}})})},e.prototype.getRawIndexes=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="indexes",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.createIndex=function(t,n){return n===void 0&&(n={}),_(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,Re.create(t,n,this.config)];case 1:return[2,r.sent()]}})})},e.prototype.updateIndex=function(t,n){return n===void 0&&(n={}),_(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,new Re(this.config,t).update(n)];case 1:return[2,r.sent()]}})})},e.prototype.deleteIndex=function(t){return _(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,new Re(this.config,t).delete()];case 1:return[2,n.sent()]}})})},e.prototype.deleteIndexIfExists=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.deleteIndex(t)];case 1:return r.sent(),[2,!0];case 2:if(n=r.sent(),n.code==="index_not_found")return[2,!1];throw n;case 3:return[2]}})})},e.prototype.getTasks=function(){return _(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.tasks.getClientTasks()];case 1:return[2,t.sent()]}})})},e.prototype.getTask=function(t){return _(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this.tasks.getClientTask(t)];case 1:return[2,n.sent()]}})})},e.prototype.waitForTasks=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this.tasks.waitForClientTasks(t,{timeOutMs:a,intervalMs:u})];case 1:return[2,o.sent()]}})})},e.prototype.waitForTask=function(t,n){var r=n===void 0?{}:n,i=r.timeOutMs,a=i===void 0?5e3:i,s=r.intervalMs,u=s===void 0?50:s;return _(this,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this.tasks.waitForClientTask(t,{timeOutMs:a,intervalMs:u})];case 1:return[2,o.sent()]}})})},e.prototype.getKeys=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="keys",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.getKey=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="keys/".concat(t),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}})})},e.prototype.createKey=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="keys",[4,this.httpRequest.post(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.updateKey=function(t,n){return _(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return r="keys/".concat(t),[4,this.httpRequest.patch(r,n)];case 1:return[2,i.sent()]}})})},e.prototype.deleteKey=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="keys/".concat(t),[4,this.httpRequest.delete(n)];case 1:return[2,r.sent()]}})})},e.prototype.health=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="health",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.isHealthy=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t="health",[4,this.httpRequest.get(t)];case 1:return n.sent(),[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},e.prototype.getStats=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="stats",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.getVersion=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="version",[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},e.prototype.createDump=function(){return _(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t="dumps",[4,this.httpRequest.post(t)];case 1:return[2,n.sent()]}})})},e.prototype.getDumpStatus=function(t){return _(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n="dumps/".concat(t,"/status"),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}})})},e.prototype.generateTenantToken=function(t,n){var r=new Error;throw new Error(`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 `.concat(r.stack,"."))},e}();function Cn(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function ta(e,t,n){return Ji.createHmac("sha256",e).update("".concat(t,".").concat(n)).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function na(){var e={alg:"HS256",typ:"JWT"};return Cn(e).replace(/=/g,"")}function ra(e){var t=e.searchRules,n=e.apiKey,r=e.expiresAt,i=new Error;if(r&&(!(r instanceof Date)||r.getTime()<Date.now()))throw new Error(`Meilisearch: When the expiresAt field in the token generation has a value, it must be a date set in the future and not in the past. 
 `.concat(i.stack,"."));if(t&&!(typeof t=="object"||Array.isArray(t)))throw new Error(`Meilisearch: The search rules added in the token generation must be of type array or object. 
 `.concat(i.stack,"."));if(!n||typeof n!="string")throw new Error(`Meilisearch: The API key used for the token generation must exist and be of type string. 
 `.concat(i.stack,"."))}function ia(e){var t=e.searchRules,n=e.apiKey,r=e.expiresAt;ra(e);var i={searchRules:t,apiKeyPrefix:n.substring(0,8),exp:r==null?void 0:r.getTime()};return Cn(i).replace(/=/g,"")}var aa=function(){function e(t){this.config=t}return e.prototype.generateTenantToken=function(t,n){var r=(n==null?void 0:n.apiKey)||this.config.apiKey||"",i=n==null?void 0:n.expiresAt,a=na(),s=ia({searchRules:t,apiKey:r,expiresAt:i}),u=ta(r,a,s);return"".concat(a,".").concat(s,".").concat(u)},e}(),sa=function(e){Ne(t,e);function t(n){var r=e.call(this,n)||this;return r.tokens=new aa(n),r}return t.prototype.generateTenantToken=function(n,r){return typeof window>"u"?this.tokens.generateTenantToken(n,r):e.prototype.generateTenantToken.call(this,n,r)},t}(ea),ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ne.apply(this,arguments)};function oa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Lt(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(c){try{f(r.next(c))}catch(h){s(h)}}function o(c){try{f(r.throw(c))}catch(h){s(h)}}function f(c){c.done?a(c.value):i(c.value).then(u,o)}f((r=r.apply(e,t||[])).next())})}function Mt(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(c){return o([f,c])}}function o(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(c){f=[6,c],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function He(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var ca=function(e){return e.filter(function(t){return t!==void 0})};function Ut(e){return e.replace(/:(.*)/i,'="$1"')}function ua(e){return e.reduce(function(t,n){return t+=JSON.stringify(n)},"")}function fa(e,t){if(t>0){var n=Math.ceil(e/t);return n}return 0}function la(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}var Qt=function(e){var t=e.match(/([^=]*)="?([^\\"]*)"?$/);if(t){t[0];var n=t[1],r=t[2];return[{filterName:n,value:r}]}return[]};function ha(e){return typeof e=="string"?Qt(e):Array.isArray(e)?e.map(function(t){return Array.isArray(t)?t.map(function(n){return Qt(n)}):Qt(t)}).flat(2):[]}function pa(e){var t=ha(e),n=ca(t);return n.reduce(function(r,i){var a,s=i.filterName,u=i.value,o=r[s]||[];return r=ne(ne({},r),(a={},a[s]=He(He([],o,!0),[u]),a)),r},{})}function da(e){return Object.keys(e).reduce(function(t,n){var r,i=Object.keys(e[n]);return ne(ne({},t),(r={},r[n]=i,r))},{})}function ga(e,t){return e.keepZeroFacets?da(e.defaultFacetDistribution):pa(t==null?void 0:t.filter)}function ma(e,t){if(t=t||{},e&&Object.keys(e).length>0)for(var n in e){t[n]||(t[n]={});for(var r=0,i=e[n];r<i.length;r++){var a=i[r];Object.keys(t[n]).includes(a)||(t[n][a]=0)}}return t}var ya={hits:[],query:"",facetsDistribution:{},limit:0,offset:0,exhaustiveNbHits:!1,nbHits:0,processingTimeMs:0};function va(e){return{searchResponse:function(t,n,r){return Lt(this,void 0,void 0,function(){var i,a,s,u,o,f,c,h;return Mt(this,function(p){switch(p.label){case 0:return i=t.placeholderSearch,a=t.query,!i&&!a?[2,ya]:(s=t.pagination,u=t.finitePagination?{}:s,o=e.formatKey([n,t.indexUid,t.query,u]),f=e.getEntry(o),f?[2,f]:(c=ga(t,n),[4,r.index(t.indexUid).search(t.query,n)]));case 1:return h=p.sent(),h.facetsDistribution=ma(c,h.facetsDistribution),e.setEntry(o,h),[2,h]}})})}}}function Nn(e){return e*180/Math.PI}function Ge(e){return e*Math.PI/180}function ba(e,t,n,r){e=Ge(e),t=Ge(t);var i=Math.cos(e)*Math.cos(t),a=Math.cos(e)*Math.sin(t),s=Math.sin(e);n=Ge(n),r=Ge(r);var u=Math.cos(n)*Math.cos(r),o=Math.cos(n)*Math.sin(r),f=Math.sin(n),c=i+u,h=a+o,p=s+f,l=Math.sqrt(c*c+h*h),g=Math.atan2(h,c),y=Math.atan2(p,l);return t<r||t>r&&t>Math.PI&&r<-Math.PI?(y=y+Math.PI,g=g+Math.PI):(y=Nn(y),g=Nn(g)),Math.abs(c)<Math.pow(10,-9)&&Math.abs(h)<Math.pow(10,-9)&&Math.abs(p)<Math.pow(10,-9)&&(y=0,g=0),"".concat(y,",").concat(g)}function wa(e,t,n,r){var i=6371e3,a=e*Math.PI/180,s=n*Math.PI/180,u=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(a)*Math.cos(s)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=i*c;return h}function _a(e){if(e){var t=e.insideBoundingBox,n=e.aroundLatLng,r=e.aroundRadius,i=e.minimumAroundRadius,a,s;if(n&&(a=n),(r!=null||i!=null)&&(r!=null?s=r:s=i),t&&typeof t=="string"){var u=t.split(","),o=u[0],f=u[1],c=u[2],h=u[3],p=[parseFloat(o),parseFloat(f),parseFloat(c),parseFloat(h)],l=p[0],g=p[1],y=p[2],b=p[3];s=wa(l,g,y,b)/2,a=ba(l,g,y,b)}if(a!=null&&s!=null){var w=a.split(","),P=w[0],j=w[1];P=Number.parseFloat(P).toFixed(5),j=Number.parseFloat(j).toFixed(5);var E="_geoRadius(".concat(P,", ").concat(j,", ").concat(s,")");return{filter:E}}}}function Oa(e){var t={},n=e.aroundLatLng,r=e.aroundLatLngViaIP,i=e.aroundRadius,a=e.aroundPrecision,s=e.minimumAroundRadius,u=e.insideBoundingBox,o=e.insidePolygon;return n&&(t.aroundLatLng=n),r&&console.warn("instant-meilisearch: `aroundLatLngViaIP` is not supported."),i&&(t.aroundRadius=i),a&&console.warn("instant-meilisearch: `aroundPrecision` is not supported.\n    See this discussion to track its implementation https://github.com/meilisearch/product/discussions/264"),s&&(t.minimumAroundRadius=s),u&&(t.insideBoundingBox=u),o&&console.warn("instant-meilisearch: `insidePolygon` is not implented in instant-meilisearch."),t}function Hn(e){return typeof e=="string"?Ut(e):Array.isArray(e)?e.map(function(t){return Array.isArray(t)?t.map(function(n){return Ut(n)}).filter(function(n){return n}):Ut(t)}).filter(function(t){return t}):[]}function qn(e){return e===""?[]:typeof e=="string"?[e]:e}function Ra(e,t,n){var r=n.trim(),i=qn(e),a=qn(t),s=He(He(He([],i,!0),a,!0),[r]),u=s.filter(function(o){return Array.isArray(o)?o.length:o});return u}function ja(e,t,n){var r=Hn(n||[]),i=Hn(t||[]);return Ra(r,i,e||"")}function Sa(e){var t={},n=e==null?void 0:e.facets;n!=null&&n.length&&(t.facetsDistribution=n);var r=e==null?void 0:e.attributesToSnippet;r&&(t.attributesToCrop=r);var i=e==null?void 0:e.snippetEllipsisText;i!=null&&(t.cropMarker=i);var a=e==null?void 0:e.attributesToRetrieve;a&&(t.attributesToRetrieve=a);var s=ja(e==null?void 0:e.filters,e==null?void 0:e.numericFilters,e==null?void 0:e.facetFilters);s.length&&(t.filter=s),a&&(t.attributesToCrop=a),t.attributesToHighlight=(e==null?void 0:e.attributesToHighlight)||["*"];var u=e==null?void 0:e.highlightPreTag;u?t.highlightPreTag=u:t.highlightPreTag="__ais-highlight__";var o=e==null?void 0:e.highlightPostTag;o?t.highlightPostTag=o:t.highlightPostTag="__/ais-highlight__";var f=e.placeholderSearch,c=e.query,h=e.pagination;if(!f&&c===""||h.paginationTotalHits===0)t.limit=0;else if(e.finitePagination)t.limit=h.paginationTotalHits;else{var p=(h.page+1)*h.hitsPerPage+1;p>h.paginationTotalHits?t.limit=h.paginationTotalHits:t.limit=p}var l=e.sort;l!=null&&l.length&&(t.sort=[l]);var g=Oa(e),y=_a(g);return y!=null&&y.filter&&(t.filter?t.filter.unshift(y.filter):t.filter=[y.filter]),t}function Pa(e,t,n){if(n<0)throw new TypeError('Value too small for "hitsPerPage" parameter, expected integer between 0 and 9223372036854775807');var r=t*n;return e.slice(r,r+n)}function xa(e){return typeof e=="string"?e:e===void 0?JSON.stringify(null):JSON.stringify(e)}function Bt(e){return Array.isArray(e)?e.map(function(t){return Bt(t)}):la(e)?Object.keys(e).reduce(function(t,n){return t[n]=Bt(e[n]),t},{}):{value:xa(e)}}function Fa(e){if(!e)return{};var t=Bt(e),n={_highlightResult:t,_snippetResult:t};return n}function Ea(e){for(var t=0;t<e.length;t++)e[t]._geo&&(e[t]._geoloc={lat:e[t]._geo.lat,lng:e[t]._geo.lng},e[t].objectID="".concat(t+Math.random()*1e6),delete e[t]._geo);return e}function Ta(e,t,n){var r=t.primaryKey,i=n.hitsPerPage,a=n.page,s=Pa(e,a,i),u=s.map(function(o){if(Object.keys(o).length>0){var f=o._formatted;o._matchesInfo;var c=oa(o,["_formatted","_matchesInfo"]),h=Object.assign(c,Fa(f));return r&&(h.objectID=o[r]),h}return o});return u=Ea(u),u}function ka(e,t){var n={},r=e.facetsDistribution,i=t.pagination,a=e==null?void 0:e.exhaustiveFacetsCount;a&&(n.exhaustiveFacetsCount=a);var s=fa(e.hits.length,i.hitsPerPage),u=Ta(e.hits,t,i),o=e.exhaustiveNbHits,f=e.nbHits,c=e.processingTimeMs,h=e.query,p=i.hitsPerPage,l=i.page,g=ne({index:t.indexUid,hitsPerPage:p,page:l,facets:r,nbPages:s,exhaustiveNbHits:o,nbHits:f,processingTimeMS:c,query:h,hits:u,params:""},n);return{results:[g]}}function Aa(e){var t=e.paginationTotalHits,n=e.hitsPerPage,r=e.page;return{paginationTotalHits:t!=null?t:200,hitsPerPage:n===void 0?20:n,page:r||0}}function Da(e,t,n){var r=e.indexName.split(":"),i=r[0],a=r.slice(1),s=e.params,u=Aa({paginationTotalHits:t.paginationTotalHits,hitsPerPage:s==null?void 0:s.hitsPerPage,page:s==null?void 0:s.page}),o=ne(ne(ne({},t),s),{sort:a.join(":")||"",indexUid:i,pagination:u,defaultFacetDistribution:n,placeholderSearch:t.placeholderSearch!==!1,keepZeroFacets:!!t.keepZeroFacets,finitePagination:!!t.finitePagination});return o}function Ia(e){e===void 0&&(e={});var t=e;return{getEntry:function(n){if(t[n])try{return JSON.parse(t[n])}catch{return t[n]}},formatKey:function(n){return ua(n)},setEntry:function(n,r){t[n]=JSON.stringify(r)}}}function Ca(e,t){return t.query===""&&Object.keys(e).length===0?t.facetsDistribution:e}function Na(e,t,n){t===void 0&&(t=""),n===void 0&&(n={});var r=va(Ia()),i={},a=new sa({host:e,apiKey:t});return{search:function(s){return Lt(this,void 0,void 0,function(){var u,o,f,c,h,p;return Mt(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),u=s[0],o=Da(u,n,i),f=Sa(o),[4,r.searchResponse(o,f,a)];case 1:return c=l.sent(),i=Ca(i,c),h=ka(c,o),[2,h];case 2:throw p=l.sent(),console.error(p),new Error(p);case 3:return[2]}})})},searchForFacetValues:function(s){return Lt(this,void 0,void 0,function(){return Mt(this,function(u){switch(u.label){case 0:return[4,new Promise(function(o,f){f(new Error("SearchForFacetValues is not compatible with Meilisearch")),o([])})];case 1:return[2,u.sent()]}})})}}}function Ha(e){return typeof e=="object"&&e!==null?Wt(Array.isArray(e)?[]:{},e):e}function Ye(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function Wt(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(Ye(i)&&Ye(r)?e[n]=Wt(i,r):e[n]=Ha(r))}return e}function qa(e){Ye(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Ye(r)&&Wt(e,r)}return e}var Ze=qa,$t=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){n[r]!==void 0&&(t[r]!==void 0&&delete t[r],t[r]=n[r])}),t},{})};function La(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var Ma=La,Xe=function(e,t){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}};function Ln(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(Ln);throw new Error("The value should be a number, a parsable string or an array of those.")}var Ua=Ln;function Qa(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Vt=Qa;function Ba(e){return e&&Object.keys(e).length>0}var Kt=Ba,Wa=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)},$a=$t,Va=Vt,Ka=Kt,je={addRefinement:function(e,t,n){if(je.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,$a({},a,e)},removeRefinement:function(e,t,n){if(n===void 0)return je.clearRefinement(e,function(i,a){return t===a});var r=""+n;return je.clearRefinement(e,function(i,a){return t===a&&r===i})},toggleRefinement:function(e,t,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return je.isRefined(e,t,n)?je.removeRefinement(e,t,n):je.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(t===void 0)return Ka(e)?{}:e;if(typeof t=="string")return Va(e,[t]);if(typeof t=="function"){var r=!1,i=Object.keys(e).reduce(function(a,s){var u=e[s]||[],o=u.filter(function(f){return!t(f,s,n)});return o.length!==u.length&&(r=!0),a[s]=o,a},{});return r?i:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;if(n===void 0||!r)return r;var i=""+n;return e[t].indexOf(i)!==-1}},Ja=je,Jt=Ze,zt=$t,Mn=Ma,Un=Xe,Gt=Ua,Qn=Vt,Yt=Kt,za=Wa,N=Ja;function Zt(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return Zt(t[r],n)}):e===t}function Ga(e,t){return Un(e,function(n){return Zt(n,t)})}function K(e){var t=e?K._parseNumbers(e):{};t.userToken!==void 0&&!za(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=K.PARAMETERS.indexOf(r)!==-1,a=t[r]!==void 0;!i&&a&&(n[r]=t[r])})}K.PARAMETERS=Object.keys(new K),K._parseNumbers=function(e){if(e instanceof K)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var a=e[i];if(typeof a=="string"){var s=parseFloat(a);t[i]=isNaN(s)?a:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var a=e.numericRefinements[i]||{};r[i]={},Object.keys(a).forEach(function(s){var u=a[s],o=u.map(function(f){return Array.isArray(f)?f.map(function(c){return typeof c=="string"?parseFloat(c):c}):typeof f=="string"?parseFloat(f):f});r[i][s]=o})}),t.numericRefinements=r}return Jt({},e,t)},K.make=function(e){var t=new K(e),n=e.hierarchicalFacets||[];return n.forEach(function(r){if(r.rootPath){var i=t.getHierarchicalRefinement(r.name);i.length>0&&i[0].indexOf(r.rootPath)!==0&&(t=t.clearRefinements(r.name)),i=t.getHierarchicalRefinement(r.name),i.length===0&&(t=t.toggleHierarchicalFacetRefinement(r.name,r.rootPath))}}),t},K.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&Yt(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Yt(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},K.prototype={constructor:K,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:N.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:N.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:N.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:N.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=Gt(n);if(this.isNumericRefined(e,t,r))return this;var i=Jt({},this.numericRefinements);return i[e]=Jt({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){return n!==void 0?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e&&r.op===t&&Zt(r.val,Gt(n))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e&&r.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(e===void 0)return Yt(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return Qn(this.numericRefinements,[e]);if(typeof e=="function"){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce(function(i,a){var s=n[a],u={};return s=s||{},Object.keys(s).forEach(function(o){var f=s[o]||[],c=[];f.forEach(function(h){var p=e({val:h,op:o},a,"numeric");p||c.push(h)}),c.length!==f.length&&(t=!0),u[o]=c}),i[a]=u,i},{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:N.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:N.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return N.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:N.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:N.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:N.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return N.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:N.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(n){return n!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:N.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:N.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:N.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={},i=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||this.hierarchicalFacetsRefinements[e][0].indexOf(t+n)===0);return i?t.indexOf(n)===-1?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:zt({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:zt({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:zt({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return this.isConjunctiveFacet(e)?N.isRefined(this.facetsRefinements,e,t):!1},isExcludeRefined:function(e,t){return this.isConjunctiveFacet(e)?N.isRefined(this.facetsExcludes,e,t):!1},isDisjunctiveFacetRefined:function(e,t){return this.isDisjunctiveFacet(e)?N.isRefined(this.disjunctiveFacetsRefinements,e,t):!1},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?n.indexOf(t)!==-1:n.length>0},isNumericRefined:function(e,t,n){if(n===void 0&&t===void 0)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&this.numericRefinements[e][t]!==void 0;if(n===void 0||!r)return r;var i=Gt(n),a=Ga(this.numericRefinements[e][t],i)!==void 0;return r&&a},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,t=Mn(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(e.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return e.disjunctiveFacetsRefinements[n].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return Mn(this.hierarchicalFacets.map(function(t){return t.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach(function(r){var i=n[r];e.indexOf(r)===-1&&i!==void 0&&(t[r]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=K.validate(this,e);if(t)throw t;var n=this,r=K._parseNumbers(e),i=Object.keys(this).reduce(function(s,u){return s[u]=n[u],s},{}),a=Object.keys(r).reduce(function(s,u){var o=s[u]!==void 0,f=r[u]!==void 0;return o&&!f?Qn(s,[u]):(f&&(s[u]=r[u]),s)},i);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return Un(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var Bn=K;function Ya(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,a=t===null;if(!a&&e>t||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}function Za(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,a){return{criteria:t.map(function(s){return i[s]}),index:a,value:i}});return r.sort(function(i,a){for(var s=-1;++s<i.criteria.length;){var u=Ya(i.criteria[s],a.criteria[s]);if(u)return s>=n.length?u:n[s]==="desc"?-u:u}return i.index-a.index}),r.map(function(i){return i.value})}var Wn=Za,Xa=function(e){return Array.isArray(e)?e.filter(Boolean):[]},es=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},ts=Xe,$n=function(e,t){var n=(t||[]).map(function(r){return r.split(":")});return e.reduce(function(r,i){var a=i.split(":"),s=ts(n,function(u){return u[0]===a[0]});return a.length>1||!s?(r[0].push(a[0]),r[1].push(a[1]),r):(r[0].push(s[0]),r[1].push(s[1]),r)},[[],[]])};function ns(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function rs(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var Xt={escapeFacetValue:ns,unescapeFacetValue:rs},is=fs,as=Wn,ss=Xe,os=$n,Vn=Xt,cs=Vn.escapeFacetValue,us=Vn.unescapeFacetValue;function fs(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",a=e._getHierarchicalFacetSeparator(r),s=e._getHierarchicalRootPath(r),u=e._getHierarchicalShowParentLevel(r),o=os(e._getHierarchicalFacetSortBy(r)),f=t.every(function(p){return p.exhaustive}),c=ls(o,a,s,u,i),h=t;return s&&(h=t.slice(s.split(a).length)),h.reduce(c,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}}function ls(e,t,n,r,i){return function(a,s,u){var o=a;if(u>0){var f=0;for(o=a;f<u;){var c=o&&Array.isArray(o.data)?o.data:[];o=ss(c,function(p){return p.isRefined}),f++}}if(o){var h=Object.keys(s.data).map(function(p){return[p,s.data[p]]}).filter(function(p){var l=p[0];return hs(l,o.path||n,i,t,n,r)});o.data=as(h.map(function(p){var l=p[0],g=p[1];return ps(g,l,t,us(i),s.exhaustive)}),e[0],e[1])}return a}}function hs(e,t,n,r,i,a){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(a||e.indexOf(n)===0)}function ps(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,escapedValue:cs(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var ds=Ze,et=$t,Kn=Wn,en=Xa,Z=Xe,qe=es,gs=$n,Jn=Xt,zn=Jn.escapeFacetValue,ms=Jn.unescapeFacetValue,ys=is;function Gn(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function tn(e,t,n){t&&t[n]&&(e.stats=t[n])}function vs(e,t){return Z(e,function(n){var r=n.attributes||[];return r.indexOf(t)>-1})}function ge(e,t,n){var r=t[0];this._rawResults=t;var i=this;Object.keys(r).forEach(function(c){i[c]=r[c]}),Object.keys(n||{}).forEach(function(c){i[c]=n[c]}),this.processingTimeMS=t.reduce(function(c,h){return h.processingTimeMS===void 0?c:c+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),s=Gn(e.facets),u=Gn(e.disjunctiveFacets),o=1,f=r.facets||{};Object.keys(f).forEach(function(c){var h=f[c],p=vs(e.hierarchicalFacets,c);if(p){var l=p.attributes.indexOf(c),g=qe(e.hierarchicalFacets,function(P){return P.name===p.name});i.hierarchicalFacets[g][l]={attribute:c,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var y=e.disjunctiveFacets.indexOf(c)!==-1,b=e.facets.indexOf(c)!==-1,w;y&&(w=u[c],i.disjunctiveFacets[w]={name:c,data:h,exhaustive:r.exhaustiveFacetsCount},tn(i.disjunctiveFacets[w],r.facets_stats,c)),b&&(w=s[c],i.facets[w]={name:c,data:h,exhaustive:r.exhaustiveFacetsCount},tn(i.facets[w],r.facets_stats,c))}}),this.hierarchicalFacets=en(this.hierarchicalFacets),a.forEach(function(c){var h=t[o],p=h&&h.facets?h.facets:{},l=e.getHierarchicalFacetByName(c);Object.keys(p).forEach(function(g){var y=p[g],b;if(l){b=qe(e.hierarchicalFacets,function(j){return j.name===l.name});var w=qe(i.hierarchicalFacets[b],function(j){return j.attribute===g});if(w===-1)return;i.hierarchicalFacets[b][w].data=ds({},i.hierarchicalFacets[b][w].data,y)}else{b=u[g];var P=r.facets&&r.facets[g]||{};i.disjunctiveFacets[b]={name:g,data:et({},y,P),exhaustive:h.exhaustiveFacetsCount},tn(i.disjunctiveFacets[b],h.facets_stats,g),e.disjunctiveFacetsRefinements[g]&&e.disjunctiveFacetsRefinements[g].forEach(function(j){!i.disjunctiveFacets[b].data[j]&&e.disjunctiveFacetsRefinements[g].indexOf(ms(j))>-1&&(i.disjunctiveFacets[b].data[j]=0)})}}),o++}),e.getRefinedHierarchicalFacets().forEach(function(c){var h=e.getHierarchicalFacetByName(c),p=e._getHierarchicalFacetSeparator(h),l=e.getHierarchicalRefinement(c);l.length===0||l[0].split(p).length<2||t.slice(o).forEach(function(g){var y=g&&g.facets?g.facets:{};Object.keys(y).forEach(function(b){var w=y[b],P=qe(e.hierarchicalFacets,function(F){return F.name===h.name}),j=qe(i.hierarchicalFacets[P],function(F){return F.attribute===b});if(j!==-1){var E={};if(l.length>0){var x=l[0].split(p)[0];E[x]=i.hierarchicalFacets[P][j].data[x]}i.hierarchicalFacets[P][j].data=et(E,w,i.hierarchicalFacets[P][j].data)}}),o++})}),Object.keys(e.facetsExcludes).forEach(function(c){var h=e.facetsExcludes[c],p=s[c];i.facets[p]={name:c,data:r.facets[c],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(l){i.facets[p]=i.facets[p]||{name:c},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[l]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(ys(e)),this.facets=en(this.facets),this.disjunctiveFacets=en(this.disjunctiveFacets),this._state=e}ge.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Z(this.facets,t)||Z(this.disjunctiveFacets,t)||Z(this.hierarchicalFacets,t)};function bs(e,t){function n(a){return a.name===t}if(e._state.isConjunctiveFacet(t)){var r=Z(e.facets,n);return r?Object.keys(r.data).map(function(a){var s=zn(a);return{name:a,escapedValue:s,count:r.data[a],isRefined:e._state.isFacetRefined(t,s),isExcluded:e._state.isExcludeRefined(t,a)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Z(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(a){var s=zn(a);return{name:a,escapedValue:s,count:i.data[a],isRefined:e._state.isDisjunctiveFacetRefined(t,s)}}):[]}else if(e._state.isHierarchicalFacet(t))return Z(e.hierarchicalFacets,n)}function Yn(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(u){return Yn(e,u,n,r+1)}),a=e(i,n[r]),s=et({data:a},t);return s}ge.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function ws(e,t){return t.sort(e)}function _s(e,t){var n=[],r=[],i=t.order||[],a=i.reduce(function(o,f,c){return o[f]=c,o},{});e.forEach(function(o){var f=o.path||o.name;a[f]!==void 0?n[a[f]]=o:r.push(o)}),n=n.filter(function(o){return o});var s=t.sortRemainingBy,u;return s==="hidden"?n:(s==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],n.concat(Kn(r,u[0],u[1])))}function Os(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}ge.prototype.getFacetValues=function(e,t){var n=bs(this,e);if(n){var r=et({},t,{sortBy:ge.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,a;if(Array.isArray(n))a=[e];else{var s=i._state.getHierarchicalFacetByName(n.name);a=s.attributes}return Yn(function(u,o){if(r.facetOrdering){var f=Os(i,o);if(Boolean(f))return _s(u,f)}if(Array.isArray(r.sortBy)){var c=gs(r.sortBy,ge.DEFAULT_SORT);return Kn(u,c[0],c[1])}else if(typeof r.sortBy=="function")return ws(r.sortBy,u);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,a)}},ge.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return Zn(this.facets,e);if(this._state.isDisjunctiveFacet(e))return Zn(this.disjunctiveFacets,e)};function Zn(e,t){var n=Z(e,function(r){return r.name===t});return n&&n.stats}ge.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(nn(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(nn(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(nn(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(Rs(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(a){i[a].forEach(function(s){n.push({type:"numeric",attributeName:r,name:s,numericValue:s,operator:a})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function nn(e,t,n,r,i){var a=Z(i,function(o){return o.name===n}),s=a&&a.data&&a.data[r]?a.data[r]:0,u=a&&a.exhaustive||!1;return{type:t,attributeName:n,name:r,count:s,exhaustive:u}}function Rs(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=n.split(a),u=Z(r,function(p){return p.name===t}),o=s.reduce(function(p,l){var g=p&&Z(p.data,function(y){return y.name===l});return g!==void 0?g:p},u),f=o&&o.count||0,c=o&&o.exhaustive||!1,h=o&&o.path||"";return{type:"hierarchical",attributeName:t,name:h,count:f,exhaustive:c}}var Xn=ge;function B(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var rn=B;B.prototype._events=void 0,B.prototype._maxListeners=void 0,B.defaultMaxListeners=10,B.prototype.setMaxListeners=function(e){if(!js(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},B.prototype.emit=function(e){var t,n,r,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Le(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],er(n))return!1;if(oe(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Le(n))for(i=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,a=0;a<r;a++)s[a].apply(this,i);return!0},B.prototype.addListener=function(e,t){var n;if(!oe(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,oe(t.listener)?t.listener:t),this._events[e]?Le(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Le(this._events[e])&&!this._events[e].warned&&(er(this._maxListeners)?n=B.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this},B.prototype.on=B.prototype.addListener,B.prototype.once=function(e,t){if(!oe(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},B.prototype.removeListener=function(e,t){var n,r,i,a;if(!oe(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||oe(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Le(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},B.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],oe(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},B.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:oe(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t},B.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(oe(t))return 1;if(t)return t.length}return 0},B.listenerCount=function(e,t){return e.listenerCount(t)};function oe(e){return typeof e=="function"}function js(e){return typeof e=="number"}function Le(e){return typeof e=="object"&&e!==null}function er(e){return e===void 0}function Ss(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var tr=Ss,Ps=rn,xs=tr;function tt(e,t){this.main=e,this.fn=t,this.lastResults=null}xs(tt,Ps),tt.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},tt.prototype.getModifiedState=function(e){return this.fn(e)};var Fs=tt,an=Ze;function sn(e){return Object.keys(e).sort(function(t,n){return t.localeCompare(n)}).reduce(function(t,n){return t[n]=e[n],t},{})}var G={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:G._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(r){n.push({indexName:e,params:G._getDisjunctiveFacetSearchParams(t,r)})}),t.getRefinedHierarchicalFacets().forEach(function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),s=t._getHierarchicalFacetSeparator(i);if(a.length>0&&a[0].split(s).length>1){var u=a[0].split(s).slice(0,-1).reduce(function(o,f,c){return o.concat({attribute:i.attributes[c],value:c===0?f:[o[o.length-1].value,f].join(s)})},[]);u.forEach(function(o,f){var c=G._getDisjunctiveFacetSearchParams(t,o.attribute,f===0),h=u[f-1];c.facetFilters=f>0?[h.attribute+":"+h.value]:void 0,n.push({indexName:e,params:c})})}}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(G._getHitsHierarchicalFacetsAttributes(e)),n=G._getFacetFilters(e),r=G._getNumericFilters(e),i=G._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return n.length>0&&(a.facetFilters=n),r.length>0&&(a.numericFilters=r),sn(an({},e.getQueryParams(),a))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=G._getFacetFilters(e,t,n),i=G._getNumericFilters(e,t),a=G._getTagFilters(e),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var u=e.getHierarchicalFacetByName(t);return u?s.facets=G._getDisjunctiveHierarchicalFacetAttribute(e,u,n):s.facets=t,i.length>0&&(s.numericFilters=i),r.length>0&&(s.facetFilters=r),sn(an({},e.getQueryParams(),s))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];t!==r&&s.forEach(function(u){if(Array.isArray(u)){var o=u.map(function(f){return r+a+f});n.push(o)}else n.push(r+a+u)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(o){var f=i[o]||[];f.forEach(function(c){r.push(o+":"+c)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(o){var f=a[o]||[];f.forEach(function(c){r.push(o+":-"+c)})});var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach(function(o){var f=s[o]||[];if(!(o===t||!f||f.length===0)){var c=[];f.forEach(function(h){c.push(o+":"+h)}),r.push(c)}});var u=e.hierarchicalFacetsRefinements||{};return Object.keys(u).forEach(function(o){var f=u[o]||[],c=f[0];if(c!==void 0){var h=e.getHierarchicalFacetByName(o),p=e._getHierarchicalFacetSeparator(h),l=e._getHierarchicalRootPath(h),g,y;if(t===o){if(c.indexOf(p)===-1||!l&&n===!0||l&&l.split(p).length===c.split(p).length)return;l?(y=l.split(p).length-1,c=l):(y=c.split(p).length-2,c=c.slice(0,c.lastIndexOf(p))),g=h.attributes[y]}else y=c.split(p).length-1,g=h.attributes[y];g&&r.push([g+":"+c])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(n,r){var i=e.getHierarchicalRefinement(r.name)[0];if(!i)return n.push(r.attributes[0]),n;var a=e._getHierarchicalFacetSeparator(r),s=i.split(a).length,u=r.attributes.slice(0,s+1);return n.concat(u)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var s=e.getHierarchicalRefinement(t.name)[0]||"",u=s.split(r).length-1;return t.attributes.slice(0,u+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return typeof n=="number"&&(a.maxFacetHits=n),sn(an({},G._getHitsSearchParams(i),a))}},Es=G,nr="3.10.0",on=Bn,cn=Xn,Ts=Fs,xe=Es,ks=rn,As=tr,Ds=Kt,Is=Vt,Cs=Ze,rr=nr,Ns=Xt.escapeFacetValue;function S(e,t,n){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+rr+")"),this.setClient(e);var r=n||{};r.index=t,this.state=on.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}As(S,ks),S.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},S.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},S.prototype.getQuery=function(){var e=this.state;return xe._getHitsSearchParams(e)},S.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=xe._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new cn(n,a.results),n)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(a,null,n)});return}return this.client.search(r).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new cn(n,a.results),state:n,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})},S.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=Cs({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Is(xe._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(r.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(r.query,e.queryLanguages,i)},S.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(r||{}),u=s.isDisjunctiveFacet(e),o=xe.getSearchForFacetQuery(e,t,n,s);this._currentNbQueries++;var f=this,c;return i?c=this.client.searchForFacetValues([{indexName:s.index,params:o}]):a?c=this.client.initIndex(s.index).searchForFacetValues(o):(delete o.facetName,c=this.client.search([{type:"facet",facet:e,indexName:s.index,params:o}]).then(function(h){return h.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),c.then(function(h){return f._currentNbQueries--,f._currentNbQueries===0&&f.emit("searchQueueEmpty"),h=Array.isArray(h)?h[0]:h,h.facetHits.forEach(function(p){p.escapedValue=Ns(p.value),p.isRefined=u?s.isDisjunctiveFacetRefined(e,p.escapedValue):s.isFacetRefined(e,p.escapedValue)}),h},function(h){throw f._currentNbQueries--,f._currentNbQueries===0&&f.emit("searchQueueEmpty"),h})},S.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},S.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},S.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},S.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},S.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},S.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},S.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},S.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},S.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},S.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},S.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},S.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},S.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},S.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},S.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},S.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},S.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},S.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},S.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},S.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},S.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},S.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},S.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function ir(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}S.prototype.setCurrentPage=ir,S.prototype.setPage=ir,S.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},S.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},S.prototype.setState=function(e){return this._change({state:on.make(e),isPageReset:!1}),this},S.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new on(e),this},S.prototype.hasRefinements=function(e){return Ds(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1},S.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},S.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},S.prototype.hasTag=function(e){return this.state.isTagRefined(e)},S.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},S.prototype.getIndex=function(){return this.state.index};function ar(){return this.state.page}S.prototype.getCurrentPage=ar,S.prototype.getPage=ar,S.prototype.getTags=function(){return this.state.tagRefinements},S.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(s){t.push({value:s,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(s){t.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(s){t.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Object.keys(a).forEach(function(s){var u=a[s];t.push({value:u,operator:s,type:"numeric"})}),t},S.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},S.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},S.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=xe._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(u){var o=u.getModifiedState(t),f=xe._getQueries(o.index,o);return n.push({state:o,queriesCount:f.length,helper:u}),u.emit("search",{state:o,results:u.lastResults}),f}),a=Array.prototype.concat.apply(r,i),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(u){this.emit("error",{error:u})}},S.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach(function(i){var a=i.state,s=i.queriesCount,u=i.helper,o=r.splice(0,s),f=u.lastResults=new cn(a,o);u.emit("result",{results:f,state:a})})}},S.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))},S.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0},S.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},S.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},S.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},S.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+rr+")"),this.client=e,this)},S.prototype.getClient=function(){return this.client},S.prototype.derive=function(e){var t=new Ts(this,e);return this.derivedHelpers.push(t),t},S.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},S.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Hs=S,sr=Hs,qs=Bn,Ls=Xn;function Me(e,t,n){return new sr(e,t,n)}Me.version=nr,Me.AlgoliaSearchHelper=sr,Me.SearchParameters=qs,Me.SearchResults=Ls;var re=Me,Ms=Promise.resolve(),Us=function(e){var t=null,n=!1,r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t===null&&(t=Ms.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r},Ue=Us;function Qs(e){return e instanceof HTMLElement||Boolean(e)&&e.nodeType>0}function or(e){var t=typeof e=="string",n=t?document.querySelector(e):e;if(!Qs(n)){var r="Container must be `string` or `HTMLElement`.";throw t&&(r+=" Unable to find ".concat(e)),new Error(r)}return n}function un(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cr(Object(n),!0).forEach(function(r){Ws(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e){return Js(e)||Ks(e)||Vs(e)||$s()}function $s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vs(e,t){if(e){if(typeof e=="string")return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}}function Ks(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Js(e){if(Array.isArray(e))return fn(e)}function fn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=un([].concat(ur(Object.keys(e||{})),ur(Object.keys(t))));return n.reduce(function(r,i){var a=e?e[i]:void 0,s=t[i],u=s!==void 0&&s!==a;return r.templates[i]=u?s:a,r.useCustomCompileOptions[i]=u,r},{templates:{},useCustomCompileOptions:{}})}function Gs(e){var t=e.defaultTemplates,n=e.templates,r=e.templatesConfig,i=zs(t,n);return Bs({templatesConfig:r},i)}var fr={};(function(e){(function(t){var n=/\S/,r=/\"/g,i=/\n/g,a=/\r/g,s=/\\/g,u=/\u2028/,o=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(v,d){var m=v.length,R=0,k=1,A=2,T=R,D=null,he=null,te="",$=[],Je=!1,L=0,Fn=0,Ie="{{",Oe="}}";function Vi(){te.length>0&&($.push({tag:"_t",text:new String(te)}),te="")}function Sf(){for(var pe=!0,se=Fn;se<$.length;se++)if(pe=t.tags[$[se].tag]<t.tags._v||$[se].tag=="_t"&&$[se].text.match(n)===null,!pe)return!1;return pe}function Ki(pe,se){if(Vi(),pe&&Sf())for(var de=Fn,Ce;de<$.length;de++)$[de].text&&((Ce=$[de+1])&&Ce.tag==">"&&(Ce.indent=$[de].text.toString()),$.splice(de,1));else se||$.push({tag:`
`});Je=!1,Fn=$.length}function Pf(pe,se){var de="="+Oe,Ce=pe.indexOf(de,se),En=c(pe.substring(pe.indexOf("=",se)+1,Ce)).split(" ");return Ie=En[0],Oe=En[En.length-1],Ce+de.length-1}for(d&&(d=d.split(" "),Ie=d[0],Oe=d[1]),L=0;L<m;L++)T==R?h(Ie,v,L)?(--L,Vi(),T=k):v.charAt(L)==`
`?Ki(Je):te+=v.charAt(L):T==k?(L+=Ie.length-1,he=t.tags[v.charAt(L+1)],D=he?v.charAt(L+1):"_v",D=="="?(L=Pf(v,L),T=R):(he&&L++,T=A),Je=L):h(Oe,v,L)?($.push({tag:D,n:c(te),otag:Ie,ctag:Oe,i:D=="/"?Je-Ie.length:L+Oe.length}),te="",L+=Oe.length-1,T=R,D=="{"&&(Oe=="}}"?L++:f($[$.length-1]))):te+=v.charAt(L);return Ki(Je,!0),$};function f(v){v.n.substr(v.n.length-1)==="}"&&(v.n=v.n.substring(0,v.n.length-1))}function c(v){return v.trim?v.trim():v.replace(/^\s*|\s*$/g,"")}function h(v,d,m){if(d.charAt(m)!=v.charAt(0))return!1;for(var R=1,k=v.length;R<k;R++)if(d.charAt(m+R)!=v.charAt(R))return!1;return!0}var p={_t:!0,"\n":!0,$:!0,"/":!0};function l(v,d,m,R){var k=[],A=null,T=null,D=null;for(T=m[m.length-1];v.length>0;){if(D=v.shift(),T&&T.tag=="<"&&!(D.tag in p))throw new Error("Illegal content in < super tag.");if(t.tags[D.tag]<=t.tags.$||g(D,R))m.push(D),D.nodes=l(v,D.tag,m,R);else if(D.tag=="/"){if(m.length===0)throw new Error("Closing tag without opener: /"+D.n);if(A=m.pop(),D.n!=A.n&&!y(D.n,A.n,R))throw new Error("Nesting error: "+A.n+" vs. "+D.n);return A.end=D.i,k}else D.tag==`
`&&(D.last=v.length==0||v[0].tag==`
`);k.push(D)}if(m.length>0)throw new Error("missing closing tag: "+m.pop().n);return k}function g(v,d){for(var m=0,R=d.length;m<R;m++)if(d[m].o==v.n)return v.tag="#",!0}function y(v,d,m){for(var R=0,k=m.length;R<k;R++)if(m[R].c==v&&m[R].o==d)return!0}function b(v){var d=[];for(var m in v)d.push('"'+j(m)+'": function(c,p,t,i) {'+v[m]+"}");return"{ "+d.join(",")+" }"}function w(v){var d=[];for(var m in v.partials)d.push('"'+j(m)+'":{name:"'+j(v.partials[m].name)+'", '+w(v.partials[m])+"}");return"partials: {"+d.join(",")+"}, subs: "+b(v.subs)}t.stringify=function(v,d,m){return"{code: function (c,p,i) { "+t.wrapMain(v.code)+" },"+w(v)+"}"};var P=0;t.generate=function(v,d,m){P=0;var R={code:"",subs:{},partials:{}};return t.walk(v,R),m.asString?this.stringify(R,d,m):this.makeTemplate(R,d,m)},t.wrapMain=function(v){return'var t=this;t.b(i=i||"");'+v+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(v,d,m){var R=this.makePartials(v);return R.code=new Function("c","p","i",this.wrapMain(v.code)),new this.template(R,d,this,m)},t.makePartials=function(v){var d,m={subs:{},partials:v.partials,name:v.name};for(d in m.partials)m.partials[d]=this.makePartials(m.partials[d]);for(d in v.subs)m.subs[d]=new Function("c","p","t","i",v.subs[d]);return m};function j(v){return v.replace(s,"\\\\").replace(r,'\\"').replace(i,"\\n").replace(a,"\\r").replace(u,"\\u2028").replace(o,"\\u2029")}function E(v){return~v.indexOf(".")?"d":"f"}function x(v,d){var m="<"+(d.prefix||""),R=m+v.n+P++;return d.partials[R]={name:v.n,partials:{}},d.code+='t.b(t.rp("'+j(R)+'",c,p,"'+(v.indent||"")+'"));',R}t.codegen={"#":function(v,d){d.code+="if(t.s(t."+E(v.n)+'("'+j(v.n)+'",c,p,1),c,p,0,'+v.i+","+v.end+',"'+v.otag+" "+v.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(v.nodes,d),d.code+="});c.pop();}"},"^":function(v,d){d.code+="if(!t.s(t."+E(v.n)+'("'+j(v.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(v.nodes,d),d.code+="};"},">":x,"<":function(v,d){var m={partials:{},code:"",subs:{},inPartial:!0};t.walk(v.nodes,m);var R=d.partials[x(v,d)];R.subs=m.subs,R.partials=m.partials},$:function(v,d){var m={subs:{},code:"",partials:d.partials,prefix:v.n};t.walk(v.nodes,m),d.subs[v.n]=m.code,d.inPartial||(d.code+='t.sub("'+j(v.n)+'",c,p,i);')},"\n":function(v,d){d.code+=q('"\\n"'+(v.last?"":" + i"))},_v:function(v,d){d.code+="t.b(t.v(t."+E(v.n)+'("'+j(v.n)+'",c,p,0)));'},_t:function(v,d){d.code+=q('"'+j(v.text)+'"')},"{":F,"&":F};function F(v,d){d.code+="t.b(t.t(t."+E(v.n)+'("'+j(v.n)+'",c,p,0)));'}function q(v){return"t.b("+v+");"}t.walk=function(v,d){for(var m,R=0,k=v.length;R<k;R++)m=t.codegen[v[R].tag],m&&m(v[R],d);return d},t.parse=function(v,d,m){return m=m||{},l(v,"",[],m.sectionTags||[])},t.cache={},t.cacheKey=function(v,d){return[v,!!d.asString,!!d.disableLambda,d.delimiters,!!d.modelGet].join("||")},t.compile=function(v,d){d=d||{};var m=t.cacheKey(v,d),R=this.cache[m];if(R){var k=R.partials;for(var A in k)delete k[A].instance;return R}return R=this.generate(this.parse(this.scan(v,d.delimiters),v,d),v,d),this.cache[m]=R}})(e)})(fr);var lr={};(function(e){(function(t){t.Template=function(l,g,y,b){l=l||{},this.r=l.code||this.r,this.c=y,this.options=b||{},this.text=g||"",this.partials=l.partials||{},this.subs=l.subs||{},this.buf=""},t.Template.prototype={r:function(l,g,y){return""},v:h,t:c,render:function(l,g,y){return this.ri([l],g||{},y)},ri:function(l,g,y){return this.r(l,g,y)},ep:function(l,g){var y=this.partials[l],b=g[y.name];if(y.instance&&y.base==b)return y.instance;if(typeof b=="string"){if(!this.c)throw new Error("No compiler available.");b=this.c.compile(b,this.options)}if(!b)return null;if(this.partials[l].base=b,y.subs){g.stackText||(g.stackText={});for(key in y.subs)g.stackText[key]||(g.stackText[key]=this.activeSub!==void 0&&g.stackText[this.activeSub]?g.stackText[this.activeSub]:this.text);b=r(b,y.subs,y.partials,this.stackSubs,this.stackPartials,g.stackText)}return this.partials[l].instance=b,b},rp:function(l,g,y,b){var w=this.ep(l,y);return w?w.ri(g,y,b):""},rs:function(l,g,y){var b=l[l.length-1];if(!p(b)){y(l,g,this);return}for(var w=0;w<b.length;w++)l.push(b[w]),y(l,g,this),l.pop()},s:function(l,g,y,b,w,P,j){var E;return p(l)&&l.length===0?!1:(typeof l=="function"&&(l=this.ms(l,g,y,b,w,P,j)),E=!!l,!b&&E&&g&&g.push(typeof l=="object"?l:g[g.length-1]),E)},d:function(l,g,y,b){var w,P=l.split("."),j=this.f(P[0],g,y,b),E=this.options.modelGet,x=null;if(l==="."&&p(g[g.length-2]))j=g[g.length-1];else for(var F=1;F<P.length;F++)w=n(P[F],j,E),w!==void 0?(x=j,j=w):j="";return b&&!j?!1:(!b&&typeof j=="function"&&(g.push(x),j=this.mv(j,g,y),g.pop()),j)},f:function(l,g,y,b){for(var w=!1,P=null,j=!1,E=this.options.modelGet,x=g.length-1;x>=0;x--)if(P=g[x],w=n(l,P,E),w!==void 0){j=!0;break}return j?(!b&&typeof w=="function"&&(w=this.mv(w,g,y)),w):b?!1:""},ls:function(l,g,y,b,w){var P=this.options.delimiters;return this.options.delimiters=w,this.b(this.ct(c(l.call(g,b)),g,y)),this.options.delimiters=P,!1},ct:function(l,g,y){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(l,this.options).render(g,y)},b:function(l){this.buf+=l},fl:function(){var l=this.buf;return this.buf="",l},ms:function(l,g,y,b,w,P,j){var E,x=g[g.length-1],F=l.call(x);return typeof F=="function"?b?!0:(E=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(F,x,y,E.substring(w,P),j)):F},mv:function(l,g,y){var b=g[g.length-1],w=l.call(b);return typeof w=="function"?this.ct(c(w.call(b)),b,y):w},sub:function(l,g,y,b){var w=this.subs[l];w&&(this.activeSub=l,w(g,y,this,b),this.activeSub=!1)}};function n(l,g,y){var b;return g&&typeof g=="object"&&(g[l]!==void 0?b=g[l]:y&&g.get&&typeof g.get=="function"&&(b=g.get(l))),b}function r(l,g,y,b,w,P){function j(){}j.prototype=l;function E(){}E.prototype=l.subs;var x,F=new j;F.subs=new E,F.subsText={},F.buf="",b=b||{},F.stackSubs=b,F.subsText=P;for(x in g)b[x]||(b[x]=g[x]);for(x in b)F.subs[x]=b[x];w=w||{},F.stackPartials=w;for(x in y)w[x]||(w[x]=y[x]);for(x in w)F.partials[x]=w[x];return F}var i=/&/g,a=/</g,s=/>/g,u=/\'/g,o=/\"/g,f=/[&<>\"\']/;function c(l){return String(l!=null?l:"")}function h(l){return l=c(l),f.test(l)?l.replace(i,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(u,"&#39;").replace(o,"&quot;"):l}var p=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}})(e)})(lr);var nt=fr;nt.Template=lr.Template,nt.template=nt.Template;var Ys=nt,hr=Ys;function rt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=function(t){return typeof t}:rt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(e)}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pr(Object(n),!0).forEach(function(r){dr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zs(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce(function(r,i){return it(it({},r),{},dr({},i,function(){var a=this;return function(s){var u=function(o){return hr.compile(o,t).render(a)};return e[i].call(n,s,u)}}))},{})}function Xs(e){var t=e.templates,n=e.templateKey,r=e.compileOptions,i=e.helpers,a=e.data,s=e.bindEvent,u=t[n];if(typeof u!="string"&&typeof u!="function")throw new Error("Template must be 'string' or 'function', was '".concat(rt(u),"' (key: ").concat(n,")"));if(typeof u=="function")return u(a,s);var o=Zs(i,r,a);return hr.compile(u,r).render(it(it({},a),{},{helpers:o})).replace(/[ \n\r\t\f\xA0]+/g,function(f){return f.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}function eo(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function to(e){return Object.prototype.toString.call(e).slice(8,-1)}function gr(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(to(e),`).

`).concat(t))}function V(){}var Qe=function(e,t){return e};function at(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function st(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(t){return typeof t}:st=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(e)}function no(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function ro(e){return st(e)==="object"&&e!==null}function mr(e){if(!ro(e)||no(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yr(e){return e!==Object(e)}function Be(e,t){if(e===t)return!0;if(yr(e)||yr(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!Be(e[i],t[i]))return!1}return!0}var io={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vr=/[&<>"']/g,ao=RegExp(vr.source);function so(e){return e&&ao.test(e)?e.replace(vr,function(t){return io[t]}):e}var oo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},br=/&(amp|quot|lt|gt|#39);/g,co=RegExp(br.source);function uo(e){return e&&co.test(e)?e.replace(br,function(t){return oo[t]}):e}function ln(){return ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ln.apply(this,arguments)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wr(Object(n),!0).forEach(function(r){_r(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},J={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function fo(e){return so(e).replace(new RegExp(ct.highlightPreTag,"g"),J.highlightPreTag).replace(new RegExp(ct.highlightPostTag,"g"),J.highlightPostTag)}function ut(e){return mr(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return ot(ot({},t),{},_r({},n,ut(e[n])))},{}):Array.isArray(e)?e.map(ut):ot(ot({},e),{},{value:fo(e.value)})}function lo(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=ln({},t);return n._highlightResult&&(n._highlightResult=ut(n._highlightResult)),n._snippetResult&&(n._snippetResult=ut(n._snippetResult)),n}),e.__escaped=!0),e}function Or(e){var t=J.highlightPreTag,n=J.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function Rr(e){var t=J.highlightPostTag,n=J.highlightPreTag,r=e.split(n),i=r.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(s){var u=s.split(t);a.push({value:u[0],isHighlighted:!0}),u[1]!==""&&a.push({value:u[1],isHighlighted:!1})}),a}var ho=new RegExp(/\w/i);function po(e,t){var n,r,i=e[t],a=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,s=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!ho.test(uo(i.value))&&s===a?s:i.isHighlighted}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jr(Object(n),!0).forEach(function(r){go(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return ft(ft({},t),{},{isHighlighted:!po(e,n)})}):e.map(function(t){return ft(ft({},t),{},{isHighlighted:!1})})}function mo(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(r){yo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vo(e,t){if(e==null)return{};var n=bo(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function bo(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wo=function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=vo(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},_o=function(e,t){return t.facets.reduce(function(n,r){return n.addFacet(r)},e)},Oo=function(e,t){return t.disjunctiveFacets.reduce(function(n,r){return n.addDisjunctiveFacet(r)},e)},Ro=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(n,r){var i=mo(n,function(s){return s.name===r.name});if(i===-1)return n.concat(r);var a=n.slice();return a.splice(i,1,r),a},e.hierarchicalFacets)})},jo=function(e,t){return t.tagRefinements.reduce(function(n,r){return n.addTagRefinement(r)},e)},So=function(e,t){return e.setQueryParameters({facetsRefinements:ie(ie({},e.facetsRefinements),t.facetsRefinements)})},Po=function(e,t){return e.setQueryParameters({facetsExcludes:ie(ie({},e.facetsExcludes),t.facetsExcludes)})},xo=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:ie(ie({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},Fo=function(e,t){return e.setQueryParameters({numericRefinements:ie(ie({},e.numericRefinements),t.numericRefinements)})},Eo=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:ie(ie({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},To=function(e,t){var n=un([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},ko=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){var a=Eo(r,i),s=Ro(a,i),u=jo(s,i),o=Fo(u,i),f=xo(o,i),c=Po(f,i),h=So(c,i),p=Oo(h,i),l=To(p,i),g=_o(l,i);return wo(g,i)})},lt=ko,Ao=function(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n},Do=Ao,Io=function(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")},me=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return Io(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}};function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xr(Object(n),!0).forEach(function(r){Co(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e,t,n){return e.map(function(r,i){return Fr(Fr({},r),{},{__position:n*t+i+1})})}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Er(Object(n),!0).forEach(function(r){Ho(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e,t){return t?e.map(function(n){return Tr(Tr({},n),{},{__queryID:t})}):e}function kr(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Ar(e){return JSON.parse(decodeURIComponent(atob(e)))}function ht(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ht=function(t){return typeof t}:ht=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(e)}function Lo(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}var Dr=function(e){var t=e.index,n=e.widgetType;e.methodName;var r=e.args,i=e.isSearchStalled;if(r.length===1&&ht(r[0])==="object")return[r[0]];var a=r[0],s=r[1],u=r[2];if(!s)return[];if((a==="click"||a==="conversion")&&!u)return[];var o=Array.isArray(s)?Mo(s):[s];if(o.length===0)return[];var f=o[0].__queryID,c=Lo(o),h=c.map(function(l){return l.map(function(g){return g.objectID})}),p=c.map(function(l){return l.map(function(g){return g.__position})});return a==="view"?i?[]:c.map(function(l,g){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:{eventName:u||"Hits Viewed",index:t,objectIDs:h[g]},hits:l}}):a==="click"?c.map(function(l,g){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:u,index:t,queryID:f,objectIDs:h[g],positions:p[g]},hits:l}}):a==="conversion"?c.map(function(l,g){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:u,index:t,queryID:f,objectIDs:h[g]},hits:l}}):[]};function Mo(e){return e.slice()}function Uo(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType,i=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var o=Dr({widgetType:r,index:n,methodName:"sendEvent",args:s,isSearchStalled:t._isSearchStalled});o.forEach(function(f){return t.sendEventToInsights(f)})};return i}function Qo(e){var t=e.index,n=e.widgetType,r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=Dr({widgetType:n,index:t,methodName:"bindEvent",args:a,isSearchStalled:!1});return u.length?"data-insights-event=".concat(kr(u)):""};return r}function ce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(r){pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e){return Vo(e)||$o(e)||Wo(e)||Bo()}function Bo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wo(e,t){if(e){if(typeof e=="string")return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(e,t)}}function $o(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Vo(e){if(Array.isArray(e))return hn(e)}function hn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t){if(e==null)return{};var n=Jo(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Jo(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var We=me({name:"index-widget"});function Ee(e){return e.$$type==="ais.index"}function Nr(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function dt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Ee(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function gt(e,t){var n=t.initialSearchParameters,r=Ko(t,["initialSearchParameters"]);return e.filter(function(i){return!Ee(i)}).reduce(function(i,a){return a.getWidgetSearchParameters?a.getWidgetSearchParameters(i,r):i},n)}function Hr(e){var t=e.filter(Ee);t.length!==0&&t.forEach(function(n){var r=n.getHelper();Nr(r,{state:r.state.resetPage(),isPageReset:!0}),Hr(n.getWidgets())})}function qr(e){var t=e.filter(Ee);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(Cr(qr(r.getWidgets()))))},[])}var zo=function(e){if(e===void 0||e.indexName===void 0)throw new Error(We("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=n===void 0?t:n,i=[],a={},s=null,u=null,o=null,f=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return o},getResults:function(){return f&&f.lastResults},getScopedResults:function(){var c=this.getParent(),h=c?c.getWidgets():[this];return qr(h)},getParent:function(){return u},createURL:function(c){return s._createURL(pt({},r,dt(i,{searchParameters:c,helper:o})))},getWidgets:function(){return i},addWidgets:function(c){var h=this;if(!Array.isArray(c))throw new Error(We("The `addWidgets` method expects an array of widgets."));if(c.some(function(p){return typeof p.init!="function"&&typeof p.render!="function"}))throw new Error(We("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(c),s&&Boolean(c.length)&&(Nr(o,{state:gt(i,{uiState:a,initialSearchParameters:o.state}),_uiState:a}),c.forEach(function(p){if(p.getRenderState){var l=p.getRenderState(s.renderState[h.getIndexId()]||{},{uiState:s._initialUiState,helper:h.getHelper(),parent:h,instantSearchInstance:s,state:o.state,renderState:s.renderState,templatesConfig:s.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:s._isSearchStalled}});pn({renderState:l,instantSearchInstance:s,parent:h})}}),c.forEach(function(p){p.init&&p.init({helper:o,parent:h,uiState:s._initialUiState,instantSearchInstance:s,state:o.state,renderState:s.renderState,templatesConfig:s.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:s._isSearchStalled}})}),s.scheduleSearch()),this},removeWidgets:function(c){var h=this;if(!Array.isArray(c))throw new Error(We("The `removeWidgets` method expects an array of widgets."));if(c.some(function(l){return typeof l.dispose!="function"}))throw new Error(We("The widget definition expects a `dispose` method."));if(i=i.filter(function(l){return c.indexOf(l)===-1}),s&&Boolean(c.length)){var p=c.reduce(function(l,g){var y=g.dispose({helper:o,state:l,parent:h});return y||l},o.state);a=dt(i,{searchParameters:p,helper:o}),o.setState(gt(i,{uiState:a,initialSearchParameters:p})),i.length&&s.scheduleSearch()}return this},init:function(c){var h=this,p,l=c.instantSearchInstance,g=c.parent,y=c.uiState;if(o===null){s=l,u=g,a=y[r]||{};var b=l.mainHelper,w=gt(i,{uiState:a,initialSearchParameters:new re.SearchParameters({index:t})});o=re({},w.index,w),o.search=function(){return l.onStateChange?(l.onStateChange({uiState:l.mainIndex.getWidgetUiState({}),setUiState:l.setUiState.bind(l)}),b):b.search()},o.searchWithoutTriggeringOnStateChange=function(){return b.search()},o.searchForFacetValues=function(E,x,F,q){var v=o.state.setQueryParameters(q);return b.searchForFacetValues(E,x,F,v)},f=b.derive(function(){return lt.apply(void 0,Cr(Do(h)))});var P=(p=l._initialResults)===null||p===void 0?void 0:p[this.getIndexId()];if(P){var j=new re.SearchResults(new re.SearchParameters(P.state),P.results);f.lastResults=j,o.lastResults=j}o.on("change",function(E){var x=E.isPageReset;x&&Hr(i)}),f.on("search",function(){l.scheduleStalledRender()}),f.on("result",function(E){var x=E.results;l.scheduleRender(),o.lastResults=x}),i.forEach(function(E){if(E.getRenderState){var x=E.getRenderState(l.renderState[h.getIndexId()]||{},{uiState:y,helper:o,parent:h,instantSearchInstance:l,state:o.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}});pn({renderState:x,instantSearchInstance:l,parent:h})}}),i.forEach(function(E){E.init&&E.init({uiState:y,helper:o,parent:h,instantSearchInstance:l,state:o.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}})}),o.on("change",function(E){var x=E.state,F=E._uiState;a=dt(i,{searchParameters:x,helper:o},F||{}),l.onStateChange||l.onInternalStateChange()}),P&&l.scheduleRender()}},render:function(c){var h=this,p=c.instantSearchInstance;!this.getResults()||(i.forEach(function(l){if(l.getRenderState){var g=l.getRenderState(p.renderState[h.getIndexId()]||{},{helper:h.getHelper(),parent:h,instantSearchInstance:p,results:h.getResults(),scopedResults:h.getScopedResults(),state:h.getResults()._state,renderState:p.renderState,templatesConfig:p.templatesConfig,createURL:h.createURL,searchMetadata:{isSearchStalled:p._isSearchStalled}});pn({renderState:g,instantSearchInstance:p,parent:h})}}),i.forEach(function(l){l.render&&l.render({helper:o,parent:h,instantSearchInstance:p,results:h.getResults(),scopedResults:h.getScopedResults(),state:h.getResults()._state,renderState:p.renderState,templatesConfig:p.templatesConfig,createURL:h.createURL,searchMetadata:{isSearchStalled:p._isSearchStalled}})}))},dispose:function(){var c=this;i.forEach(function(h){h.dispose&&h.dispose({helper:o,state:o.state,parent:c})}),s=null,u=null,o.removeAllListeners(),o=null,f.detach(),f=null},getWidgetUiState:function(c){return i.filter(Ee).reduce(function(h,p){return p.getWidgetUiState(h)},Fe(Fe({},c),{},pt({},this.getIndexId(),a)))},getWidgetState:function(c){return this.getWidgetUiState(c)},getWidgetSearchParameters:function(c,h){var p=h.uiState;return gt(i,{uiState:p,initialSearchParameters:c})},refreshUiState:function(){a=dt(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}},Go=zo;function pn(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Fe(Fe({},n.renderState),{},pt({},i,Fe(Fe({},n.renderState[i]),t)))}var Lr="4.43.0",Yo="ais",Te=function(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",a=r?"--".concat(r):"";return"".concat(Yo,"-").concat(e).concat(i).concat(a)}},Zo=Te("Highlight");function Mr(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=at(i._highlightResult,t),o=u||{},f=o.value,c=f===void 0?"":f,h=Zo({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(J.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(J.highlightPostTag,"g"),"</".concat(r,">"))}var Xo=Te("ReverseHighlight");function Ur(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=at(i._highlightResult,t),o=u||{},f=o.value,c=f===void 0?"":f,h=Xo({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),p=Or(Sr(Rr(c)));return p.replace(new RegExp(J.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(J.highlightPostTag,"g"),"</".concat(r,">"))}var ec=Te("Snippet");function Qr(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=at(i._snippetResult,t),o=u||{},f=o.value,c=f===void 0?"":f,h=ec({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(J.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(J.highlightPostTag,"g"),"</".concat(r,">"))}var tc=Te("ReverseSnippet");function Br(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=at(i._snippetResult,t),o=u||{},f=o.value,c=f===void 0?"":f,h=tc({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),p=Or(Sr(Rr(c)));return p.replace(new RegExp(J.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(J.highlightPostTag,"g"),"</".concat(r,">"))}function mt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mt=function(t){return typeof t}:mt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(e)}function nc(e){var t=e.getAttribute("data-insights-method"),n=e.getAttribute("data-insights-payload");if(typeof n!="string")throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{var r=Ar(n);return{method:t,payload:r}}catch{throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}function rc(e){return e.hasAttribute("data-insights-method")}function ic(e){var t=e.method,n=e.payload;if(mt(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=kr(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function Wr(e,t){return ic({method:e,payload:t})}var ac="_ALGOLIA";function sc(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function oc(){return sc(ac)}function cc(){return oc()}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$r(Object(n),!0).forEach(function(r){uc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e){var t=e.numberLocale;return{formatNumber:function(n,r){return Number(r(n)).toLocaleString(t)},highlight:function(n,r){try{var i=JSON.parse(n);return r(Mr(ue(ue({},i),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,r){try{var i=JSON.parse(n);return r(Ur(ue(ue({},i),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,r){try{var i=JSON.parse(n);return r(Qr(ue(ue({},i),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,r){try{var i=JSON.parse(n);return r(Br(ue(ue({},i),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,r){try{var i=JSON.parse(n),a=i.method,s=i.payload;return r(Wr(a,ue({objectIDs:[this.objectID]},s)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vr(Object(n),!0).forEach(function(r){dn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){if(e==null)return{};var n=hc(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function hc(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Kr(e){e.configure;var t=lc(e,["configure"]);return t}function pc(){return{stateToRoute:function(e){return Object.keys(e).reduce(function(t,n){return yt(yt({},t),{},dn({},n,Kr(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){return yt(yt({},t),{},dn({},n,Kr(e[n])))},{})}}}var dc=String.prototype.replace,gc=/%20/g,gn={RFC1738:"RFC1738",RFC3986:"RFC3986"},mn={default:gn.RFC3986,formatters:{RFC1738:function(e){return dc.call(e,gc,"+")},RFC3986:function(e){return String(e)}},RFC1738:gn.RFC1738,RFC3986:gn.RFC3986},mc=mn,yn=Object.prototype.hasOwnProperty,Se=Array.isArray,ae=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),yc=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Se(n)){for(var r=[],i=0;i<n.length;++i)typeof n[i]<"u"&&r.push(n[i]);t.obj[t.prop]=r}}},Jr=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},vc=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Se(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!yn.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Se(t)&&!Se(n)&&(i=Jr(t,r)),Se(t)&&Se(n)?(n.forEach(function(a,s){if(yn.call(t,s)){var u=t[s];u&&typeof u=="object"&&a&&typeof a=="object"?t[s]=e(u,a,r):t.push(a)}else t[s]=a}),t):Object.keys(n).reduce(function(a,s){var u=n[s];return yn.call(a,s)?a[s]=e(a[s],u,r):a[s]=u,a},i)},bc=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},wc=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},_c=function(e,t,n,r,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var s="",u=0;u<a.length;++u){var o=a.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||i===mc.RFC1738&&(o===40||o===41)){s+=a.charAt(u);continue}if(o<128){s=s+ae[o];continue}if(o<2048){s=s+(ae[192|o>>6]+ae[128|o&63]);continue}if(o<55296||o>=57344){s=s+(ae[224|o>>12]+ae[128|o>>6&63]+ae[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|a.charCodeAt(u)&1023),s+=ae[240|o>>18]+ae[128|o>>12&63]+ae[128|o>>6&63]+ae[128|o&63]}return s},Oc=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var o=s[u],f=a[o];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(t.push({obj:a,prop:o}),n.push(f))}return yc(t),e},Rc=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},jc=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Sc=function(e,t){return[].concat(e,t)},Pc=function(e,t){if(Se(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},zr={arrayToObject:Jr,assign:bc,combine:Sc,compact:Oc,decode:wc,encode:_c,isBuffer:jc,isRegExp:Rc,maybeMap:Pc,merge:vc},vn=zr,$e=mn,xc=Object.prototype.hasOwnProperty,Gr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Pe=Array.isArray,Fc=String.prototype.split,Ec=Array.prototype.push,Yr=function(e,t){Ec.apply(e,Pe(t)?t:[t])},Tc=Date.prototype.toISOString,Zr=$e.default,U={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:vn.encode,encodeValuesOnly:!1,format:Zr,formatter:$e.formatters[Zr],indices:!1,serializeDate:function(e){return Tc.call(e)},skipNulls:!1,strictNullHandling:!1},kc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ac=function e(t,n,r,i,a,s,u,o,f,c,h,p,l,g){var y=t;if(typeof u=="function"?y=u(n,y):y instanceof Date?y=c(y):r==="comma"&&Pe(y)&&(y=vn.maybeMap(y,function(R){return R instanceof Date?c(R):R})),y===null){if(i)return s&&!l?s(n,U.encoder,g,"key",h):n;y=""}if(kc(y)||vn.isBuffer(y)){if(s){var b=l?n:s(n,U.encoder,g,"key",h);if(r==="comma"&&l){for(var w=Fc.call(String(y),","),P="",j=0;j<w.length;++j)P+=(j===0?"":",")+p(s(w[j],U.encoder,g,"value",h));return[p(b)+"="+P]}return[p(b)+"="+p(s(y,U.encoder,g,"value",h))]}return[p(n)+"="+p(String(y))]}var E=[];if(typeof y>"u")return E;var x;if(r==="comma"&&Pe(y))x=[{value:y.length>0?y.join(",")||null:void 0}];else if(Pe(u))x=u;else{var F=Object.keys(y);x=o?F.sort(o):F}for(var q=0;q<x.length;++q){var v=x[q],d=typeof v=="object"&&typeof v.value<"u"?v.value:y[v];if(!(a&&d===null)){var m=Pe(y)?typeof r=="function"?r(n,v):n:n+(f?"."+v:"["+v+"]");Yr(E,e(d,m,r,i,a,s,u,o,f,c,h,p,l,g))}}return E},Dc=function(e){if(!e)return U;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||U.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$e.default;if(typeof e.format<"u"){if(!xc.call($e.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=$e.formatters[n],i=U.filter;return(typeof e.filter=="function"||Pe(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:U.addQueryPrefix,allowDots:typeof e.allowDots>"u"?U.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:U.charsetSentinel,delimiter:typeof e.delimiter>"u"?U.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:U.encode,encoder:typeof e.encoder=="function"?e.encoder:U.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:U.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:U.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:U.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:U.strictNullHandling}},Ic=function(e,t){var n=e,r=Dc(t),i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Pe(r.filter)&&(a=r.filter,i=a);var s=[];if(typeof n!="object"||n===null)return"";var u;t&&t.arrayFormat in Gr?u=t.arrayFormat:t&&"indices"in t?u=t.indices?"indices":"repeat":u="indices";var o=Gr[u];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var f=0;f<i.length;++f){var c=i[f];r.skipNulls&&n[c]===null||Yr(s,Ac(n[c],c,o,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var h=s.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},ke=zr,bn=Object.prototype.hasOwnProperty,Cc=Array.isArray,Q={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ke.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Nc=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},Xr=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Hc="utf8=%26%2310003%3B",qc="utf8=%E2%9C%93",Lc=function(e,t){var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=r.split(t.delimiter,i),s=-1,u,o=t.charset;if(t.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===qc?o="utf-8":a[u]===Hc&&(o="iso-8859-1"),s=u,u=a.length);for(u=0;u<a.length;++u)if(u!==s){var f=a[u],c=f.indexOf("]="),h=c===-1?f.indexOf("="):c+1,p,l;h===-1?(p=t.decoder(f,Q.decoder,o,"key"),l=t.strictNullHandling?null:""):(p=t.decoder(f.slice(0,h),Q.decoder,o,"key"),l=ke.maybeMap(Xr(f.slice(h+1),t),function(g){return t.decoder(g,Q.decoder,o,"value")})),l&&t.interpretNumericEntities&&o==="iso-8859-1"&&(l=Nc(l)),f.indexOf("[]=")>-1&&(l=Cc(l)?[l]:l),bn.call(n,p)?n[p]=ke.combine(n[p],l):n[p]=l}return n},Mc=function(e,t,n,r){for(var i=r?t:Xr(t,n),a=e.length-1;a>=0;--a){var s,u=e[a];if(u==="[]"&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var o=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=parseInt(o,10);!n.parseArrays&&o===""?s={0:i}:!isNaN(f)&&u!==o&&String(f)===o&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(s=[],s[f]=i):o!=="__proto__"&&(s[o]=i)}i=s}return i},Uc=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(i),o=u?i.slice(0,u.index):i,f=[];if(o){if(!n.plainObjects&&bn.call(Object.prototype,o)&&!n.allowPrototypes)return;f.push(o)}for(var c=0;n.depth>0&&(u=s.exec(i))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&bn.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+i.slice(u.index)+"]"),Mc(f,t,n,r)}},Qc=function(e){if(!e)return Q;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Q.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Q.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Q.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Q.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Q.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Q.comma,decoder:typeof e.decoder=="function"?e.decoder:Q.decoder,delimiter:typeof e.delimiter=="string"||ke.isRegExp(e.delimiter)?e.delimiter:Q.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Q.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Q.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Q.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Q.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Q.strictNullHandling}},Bc=function(e,t){var n=Qc(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?Lc(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var u=a[s],o=Uc(u,r[u],n,typeof e=="string");i=ke.merge(i,o,n)}return ke.compact(i)},Wc=Ic,$c=Bc,Vc=mn,ei={formats:Vc,parse:$c,stringify:Wc};function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ni=function(e){e&&(window.document.title=e)},zc=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,u=t.parseURL,o=t.getLocation;Kc(this,e),fe(this,"windowTitle",void 0),fe(this,"writeDelay",void 0),fe(this,"_createURL",void 0),fe(this,"parseURL",void 0),fe(this,"getLocation",void 0),fe(this,"writeTimer",void 0),fe(this,"inPopState",!1),fe(this,"isDisposed",!1),fe(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=u,this.getLocation=o,ce(function(f){var c=f.window,h=n.windowTitle&&n.windowTitle(n.read());ni(h),n.latestAcknowledgedHistory=c.history.length})}return Jc(e,[{key:"read",value:function(){return this.parseURL({qsModule:ei,location:this.getLocation()})}},{key:"write",value:function(t){var n=this;ce(function(r){var i=r.window,a=n.createURL(t),s=n.windowTitle&&n.windowTitle(t);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){ni(s),n.shouldWrite(a)&&(i.history.pushState(t,s||"",a),n.latestAcknowledgedHistory=i.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(t){var n=this;this._onPopState=function(r){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0;var i=r.state;t(i||n.read())},ce(function(r){var i=r.window;i.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(t){return this._createURL({qsModule:ei,routeState:t,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this.isDisposed=!0,ce(function(n){var r=n.window;t._onPopState&&r.removeEventListener("popstate",t._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(t){var n=this;return ce(function(r){var i=r.window,a=!(n.isDisposed&&n.latestAcknowledgedHistory!==i.history.length);return!n.inPopState&&a&&t!==i.location.href})}}]),e}();function Gc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(c){var h=c.qsModule,p=c.routeState,l=c.location,g=l.protocol,y=l.hostname,b=l.port,w=b===void 0?"":b,P=l.pathname,j=l.hash,E=h.stringify(p),x=w===""?"":":".concat(w);return E?"".concat(g,"//").concat(y).concat(x).concat(P,"?").concat(E).concat(j):"".concat(g,"//").concat(y).concat(x).concat(P).concat(j)}:t,r=e.parseURL,i=r===void 0?function(c){var h=c.qsModule,p=c.location;return h.parse(p.search.slice(1),{arrayLimit:99})}:r,a=e.writeDelay,s=a===void 0?400:a,u=e.windowTitle,o=e.getLocation,f=o===void 0?function(){return ce(function(c){var h=c.window;return h.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:o;return new zc({createURL:n,parseURL:i,writeDelay:s,windowTitle:u,getLocation:f})}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ri(Object(n),!0).forEach(function(r){ii(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.router,n=t===void 0?Gc():t,r=e.stateMapping,i=r===void 0?pc():r;return function(a){var s=a.instantSearchInstance;function u(c){var h=Object.keys(c).reduce(function(l,g){return vt(vt({},l),{},ii({},g,c[g]))},s.mainIndex.getWidgetUiState({})),p=i.stateToRoute(h);return n.createURL(p)}s._createURL=u;var o=void 0,f=s._initialUiState;return{onStateChange:function(c){var h=c.uiState,p=i.stateToRoute(h);(o===void 0||!Be(o,p))&&(n.write(p),o=p)},subscribe:function(){s._initialUiState=vt(vt({},f),i.routeToState(n.read())),n.onUpdate(function(c){s.setUiState(i.routeToState(c))})},unsubscribe:function(){n.dispose()}}}};function ai(e,t,n){var r=t.mainIndex,i={instantSearchInstance:t,parent:r,scopedResults:[],state:r.getHelper().state,helper:r.getHelper(),createURL:r.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(a){var s={};if(a.getWidgetRenderState){var u=a.getWidgetRenderState(i);u&&u.widgetParams&&(s=u.widgetParams)}var o=Object.keys(s).filter(function(f){return s[f]!==void 0});n.widgets.push({type:a.$$type,widgetType:a.$$widgetType,params:o}),a.$$type==="ais.index"&&ai(a.getWidgets(),t,n)})}function Zc(){return ce(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Xc(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var a=t.client;n.ua=a.transporter&&a.transporter.userAgent?a.transporter.userAgent.value:a._ua,ai(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)},0)},unsubscribe:function(){r.remove()}}}}function bt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bt=function(t){return typeof t}:bt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(e)}function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?si(Object(n),!0).forEach(function(r){C(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e,t,n){return t&&oi(e.prototype,t),n&&oi(e,n),e}function ru(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}function wn(e,t){return wn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wn(e,t)}function iu(e){var t=su();return function(){var n=wt(e),r;if(t){var i=wt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return au(this,r)}}function au(e,t){return t&&(bt(t)==="object"||typeof t=="function")?t:I(e)}function I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=me({name:"instantsearch"});function ou(){return"#"}var cu=function(e){ru(n,e);var t=iu(n);function n(r){var i;tu(this,n),i=t.call(this),C(I(i),"client",void 0),C(I(i),"indexName",void 0),C(I(i),"insightsClient",void 0),C(I(i),"onStateChange",null),C(I(i),"helper",void 0),C(I(i),"mainHelper",void 0),C(I(i),"mainIndex",void 0),C(I(i),"started",void 0),C(I(i),"templatesConfig",void 0),C(I(i),"renderState",{}),C(I(i),"_stalledSearchDelay",void 0),C(I(i),"_searchStalledTimer",void 0),C(I(i),"_isSearchStalled",void 0),C(I(i),"_initialUiState",void 0),C(I(i),"_initialResults",void 0),C(I(i),"_createURL",void 0),C(I(i),"_searchFunction",void 0),C(I(i),"_mainHelperSearch",void 0),C(I(i),"middleware",[]),C(I(i),"sendEventToInsights",void 0),C(I(i),"scheduleSearch",Ue(function(){i.started&&i.mainHelper.search()})),C(I(i),"scheduleRender",Ue(function(){i.mainHelper.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,i._isSearchStalled=!1),i.mainIndex.render({instantSearchInstance:I(i)}),i.emit("render")})),C(I(i),"onInternalStateChange",Ue(function(){var F=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(q){var v=q.instance;v.onStateChange({uiState:F})})}));var a=r.indexName,s=a===void 0?null:a,u=r.numberLocale,o=r.initialUiState,f=o===void 0?{}:o,c=r.routing,h=c===void 0?null:c,p=r.searchFunction,l=r.stalledSearchDelay,g=l===void 0?200:l,y=r.searchClient,b=y===void 0?null:y,w=r.insightsClient,P=w===void 0?null:w,j=r.onStateChange,E=j===void 0?null:j;if(s===null)throw new Error(X("The `indexName` option is required."));if(b===null)throw new Error(X("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(Lr,")")),P&&typeof P!="function")throw new Error(X("The `insightsClient` option should be a function."));if(i.client=b,i.insightsClient=P,i.indexName=s,i.helper=null,i.mainHelper=null,i.mainIndex=Go({indexName:s}),i.onStateChange=E,i.started=!1,i.templatesConfig={helpers:fc({numberLocale:u}),compileOptions:{}},i._stalledSearchDelay=g,i._searchStalledTimer=null,i._isSearchStalled=!1,i._createURL=ou,i._initialUiState=f,i._initialResults=null,p&&(i._searchFunction=p),i.sendEventToInsights=V,h){var x=typeof h=="boolean"?void 0:h;i.use(Yc(x))}return Zc()&&i.use(Xc()),i}return nu(n,[{key:"use",value:function(){for(var r=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=a.map(function(o){var f=eu({subscribe:V,unsubscribe:V,onStateChange:V},o({instantSearchInstance:r}));return r.middleware.push({creator:o,instance:f}),f});return this.started&&u.forEach(function(o){o.subscribe()}),this}},{key:"unuse",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.middleware.filter(function(s){return i.includes(s.creator)}).forEach(function(s){return s.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(s){return!i.includes(s.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(r){return this.addWidgets([r])}},{key:"addWidgets",value:function(r){if(!Array.isArray(r))throw new Error(X("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(r.some(function(i){return typeof i.init!="function"&&typeof i.render!="function"}))throw new Error(X("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(r),this}},{key:"removeWidget",value:function(r){return this.removeWidgets([r])}},{key:"removeWidgets",value:function(r){if(!Array.isArray(r))throw new Error(X("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(r.some(function(i){return typeof i.dispose!="function"}))throw new Error(X("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(r),this}},{key:"start",value:function(){var r=this;if(this.started)throw new Error(X("The `start` method has already been called once."));var i=this.mainHelper||re(this.client,this.indexName);if(i.search=function(){return i.searchOnlyWithDerivedHelpers()},this._searchFunction){var a={search:function(){return new Promise(V)}};this._mainHelperSearch=i.search.bind(i),i.search=function(){var u=r.mainIndex.getHelper(),o=re(a,u.state.index,u.state);return o.once("search",function(f){var c=f.state;u.overrideStateWithoutTriggeringChangeEvent(c),r._mainHelperSearch()}),o.on("change",function(f){var c=f.state;u.setState(c)}),r._searchFunction(o),i}}if(i.on("error",function(u){var o=u.error;o.error=o,r.emit("error",o)}),this.mainHelper=i,this.middleware.forEach(function(u){var o=u.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var s=this.scheduleSearch;this.scheduleSearch=Ue(V),Ue(function(){r.scheduleSearch=s})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(r){var i=r.instance;i.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var r=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){r._isSearchStalled=!0,r.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(r){if(!this.mainHelper)throw new Error(X("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var i=typeof r=="function"?r(this.mainIndex.getWidgetUiState({})):r,a=function s(u){var o=i[u.getIndexId()]||{};u.getHelper().setState(u.getWidgetSearchParameters(u.getHelper().state,{uiState:o})),u.getWidgets().filter(Ee).forEach(s)};a(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(X("The `start` method needs to be called before `createURL`."));return this._createURL(r)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(X("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(rn),uu=cu;function fu(e,t){if(e==null)return{};var n=lu(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function lu(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ci(e){var t=e||{};t.page;var n=fu(t,["page"]);return n}var _n="ais.infiniteHits";function hu(){return{read:function(e){var t=e.state,n=ce(function(i){var a=i.window;return a.sessionStorage});if(!n)return null;try{var r=JSON.parse(n.getItem(_n));return r&&Be(r.state,ci(t))?r.hits:null}catch(i){if(i instanceof SyntaxError)try{n.removeItem(_n)}catch{}return null}},write:function(e){var t=e.state,n=e.hits,r=ce(function(i){var a=i.window;return a.sessionStorage});if(r)try{r.setItem(_n,JSON.stringify({state:ci(t),hits:n}))}catch{}}}}var ee=function(e){return new uu(e)};ee.version=Lr,ee.createInfiniteHitsSessionStorageCache=Qe(hu),ee.highlight=Qe(Mr),ee.reverseHighlight=Qe(Ur),ee.snippet=Qe(Qr),ee.reverseSnippet=Qe(Br),ee.insights=Wr,ee.getInsightsAnonymousUserToken=cc,Object.defineProperty(ee,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}}),Object.defineProperty(ee,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});var ui=ee,_t,H,fi,Ve,li,hi,Ot={},pi=[],pu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ye(e,t){for(var n in t)e[n]=t[n];return e}function di(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,n){var r,i,a,s={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?_t.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return Rt(e,s,r,i,null)}function Rt(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i!=null?i:++fi};return i==null&&H.vnode!=null&&H.vnode(a),a}function du(){return{current:null}}function jt(e){return e.children}function Ae(e,t){this.props=e,this.context=t}function De(e,t){if(t==null)return e.__?De(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?De(e):null}function gi(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return gi(e)}}function mi(e){(!e.__d&&(e.__d=!0)&&Ve.push(e)&&!St.__r++||hi!==H.debounceRendering)&&((hi=H.debounceRendering)||li)(St)}function St(){for(var e;St.__r=Ve.length;)e=Ve.sort(function(t,n){return t.__v.__b-n.__v.__b}),Ve=[],e.some(function(t){var n,r,i,a,s,u;t.__d&&(s=(a=(n=t).__v).__e,(u=n.__P)&&(r=[],(i=ye({},a)).__v=a.__v+1,On(u,a,i,n.__n,u.ownerSVGElement!==void 0,a.__h!=null?[s]:null,r,s!=null?s:De(a),a.__h),Ri(r,a),a.__e!=s&&gi(a)))})}function yi(e,t,n,r,i,a,s,u,o,f){var c,h,p,l,g,y,b,w=r&&r.__k||pi,P=w.length;for(n.__k=[],c=0;c<t.length;c++)if((l=n.__k[c]=(l=t[c])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?Rt(null,l,null,null,l):Array.isArray(l)?Rt(jt,{children:l},null,null,null):l.__b>0?Rt(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(p=w[c])===null||p&&l.key==p.key&&l.type===p.type)w[c]=void 0;else for(h=0;h<P;h++){if((p=w[h])&&l.key==p.key&&l.type===p.type){w[h]=void 0;break}p=null}On(e,l,p=p||Ot,i,a,s,u,o,f),g=l.__e,(h=l.ref)&&p.ref!=h&&(b||(b=[]),p.ref&&b.push(p.ref,null,l),b.push(h,l.__c||g,l)),g!=null?(y==null&&(y=g),typeof l.type=="function"&&l.__k===p.__k?l.__d=o=vi(l,o,e):o=bi(e,l,p,w,g,o),typeof n.type=="function"&&(n.__d=o)):o&&p.__e==o&&o.parentNode!=e&&(o=De(p))}for(n.__e=y,c=P;c--;)w[c]!=null&&(typeof n.type=="function"&&w[c].__e!=null&&w[c].__e==n.__d&&(n.__d=De(r,c+1)),Si(w[c],w[c]));if(b)for(c=0;c<b.length;c++)ji(b[c],b[++c],b[++c])}function vi(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type=="function"?vi(r,t,n):bi(n,r,r,i,r.__e,t));return t}function bi(e,t,n,r,i,a){var s,u,o;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(i),s=null;else{for(u=a,o=0;(u=u.nextSibling)&&o<r.length;o+=2)if(u==i)break e;e.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function gu(e,t,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in t||Pt(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||Pt(e,a,t[a],n[a],r)}function wi(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||pu.test(t)?n:n+"px"}function Pt(e,t,n,r,i){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||wi(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||wi(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?Oi:_i,a):e.removeEventListener(t,a?Oi:_i,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n!=null?n:"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function _i(e){this.l[e.type+!1](H.event?H.event(e):e)}function Oi(e){this.l[e.type+!0](H.event?H.event(e):e)}function On(e,t,n,r,i,a,s,u,o){var f,c,h,p,l,g,y,b,w,P,j,E,x,F=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(o=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(f=H.__b)&&f(t);try{e:if(typeof F=="function"){if(b=t.props,w=(f=F.contextType)&&r[f.__c],P=f?w?w.props.value:f.__:r,n.__c?y=(c=t.__c=n.__c).__=c.__E:("prototype"in F&&F.prototype.render?t.__c=c=new F(b,P):(t.__c=c=new Ae(b,P),c.constructor=F,c.render=yu),w&&w.sub(c),c.props=b,c.state||(c.state={}),c.context=P,c.__n=r,h=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),F.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ye({},c.__s)),ye(c.__s,F.getDerivedStateFromProps(b,c.__s))),p=c.props,l=c.state,h)F.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(F.getDerivedStateFromProps==null&&b!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(b,P),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(b,c.__s,P)===!1||t.__v===n.__v){c.props=b,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(q){q&&(q.__=t)}),c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(b,c.__s,P),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,l,g)})}if(c.context=P,c.props=b,c.__v=t,c.__P=e,j=H.__r,E=0,"prototype"in F&&F.prototype.render)c.state=c.__s,c.__d=!1,j&&j(t),f=c.render(c.props,c.state,c.context);else do c.__d=!1,j&&j(t),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(r=ye(ye({},r),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(p,l)),x=f!=null&&f.type===jt&&f.key==null?f.props.children:f,yi(e,Array.isArray(x)?x:[x],t,n,r,i,a,s,u,o),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),y&&(c.__E=c.__=null),c.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=mu(n.__e,t,n,r,i,a,s,o);(f=H.diffed)&&f(t)}catch(q){t.__v=null,(o||a!=null)&&(t.__e=u,t.__h=!!o,a[a.indexOf(u)]=null),H.__e(q,t,n)}}function Ri(e,t){H.__c&&H.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){H.__e(r,n.__v)}})}function mu(e,t,n,r,i,a,s,u){var o,f,c,h=n.props,p=t.props,l=t.type,g=0;if(l==="svg"&&(i=!0),a!=null){for(;g<a.length;g++)if((o=a[g])&&"setAttribute"in o==!!l&&(l?o.localName===l:o.nodeType===3)){e=o,a[g]=null;break}}if(e==null){if(l===null)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,p.is&&p),a=null,u=!1}if(l===null)h===p||u&&e.data===p||(e.data=p);else{if(a=a&&_t.call(e.childNodes),f=(h=n.props||Ot).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!u){if(a!=null)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(c||f)&&(c&&(f&&c.__html==f.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(gu(e,p,h,i,u),c)t.__k=[];else if(g=t.props.children,yi(e,Array.isArray(g)?g:[g],t,n,r,i&&l!=="foreignObject",a,s,a?a[0]:n.__k&&De(n,0),u),a!=null)for(g=a.length;g--;)a[g]!=null&&di(a[g]);u||("value"in p&&(g=p.value)!==void 0&&(g!==e.value||l==="progress"&&!g||l==="option"&&g!==h.value)&&Pt(e,"value",g,h.value,!1),"checked"in p&&(g=p.checked)!==void 0&&g!==e.checked&&Pt(e,"checked",g,h.checked,!1))}return e}function ji(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){H.__e(r,n)}}function Si(e,t,n){var r,i;if(H.unmount&&H.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ji(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){H.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Si(r[i],t,typeof e.type!="function");n||e.__e==null||di(e.__e),e.__e=e.__d=void 0}function yu(e,t,n){return this.constructor(e,n)}function xt(e,t,n){var r,i,a;H.__&&H.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],On(t,e=(!r&&n||t).__k=W(jt,null,[e]),i||Ot,Ot,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?_t.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),Ri(a,e)}_t=pi.slice,H={__e:function(e,t,n,r){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(u){e=u}throw e}},fi=0,Ae.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ye({},this.state),typeof e=="function"&&(e=e(ye({},n),this.props)),e&&ye(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),mi(this))},Ae.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),mi(this))},Ae.prototype.render=jt,Ve=[],li=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,St.__r=0;var Pi={exports:{}};(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var s=typeof a;if(s==="string"||s==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var u=n.apply(null,a);u&&r.push(u)}}else if(s==="object")if(a.toString===Object.prototype.toString)for(var o in a)t.call(a,o)&&a[o]&&r.push(o);else r.push(a.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Pi);var z=Pi.exports;function Ft(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(t){return typeof t}:Ft=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}function Rn(){return Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn.apply(this,arguments)}function vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bu(e,t,n){return t&&xi(e.prototype,t),n&&xi(e,n),e}function wu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}function jn(e,t){return jn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jn(e,t)}function _u(e){var t=ju();return function(){var n=Et(e),r;if(t){var i=Et(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ou(this,r)}}function Ou(e,t){return t&&(Ft(t)==="object"||typeof t=="function")?t:Ru(e)}function Ru(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(e)}function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pu={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}},Fi=function(e){wu(n,e);var t=_u(n);function n(){return vu(this,n),t.apply(this,arguments)}return bu(n,[{key:"shouldComponentUpdate",value:function(r){return!Be(this.props.data,r.data)||this.props.templateKey!==r.templateKey||!Be(this.props.rootProps,r.rootProps)}},{key:"render",value:function(){var r=this.props.rootTagName,i=this.props.useCustomCompileOptions[this.props.templateKey],a=i?this.props.templatesConfig.compileOptions:{},s=Xs({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:a,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent});return s===null?null:W(r,Rn({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:s}}))}}]),n}(Ae);Su(Fi,"defaultProps",Pu);var Ke=Fi;function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ei(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xu=me({name:"configure",connector:!0});function ki(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return M(M({},n),{},Ti({},r,void 0))},{}))}var Fu=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return function(n){if(!n||!mr(n.searchParameters))throw new Error(xu("The `searchParameters` option expects an object."));var r={};function i(a){return function(s){var u=ki(a.state,n),o=lt(u,new re.SearchParameters(s));n.searchParameters=s,a.setState(o).search()}}return{$$type:"ais.configure",init:function(a){var s=a.instantSearchInstance;e(M(M({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!0)},render:function(a){var s=a.instantSearchInstance;e(M(M({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!1)},dispose:function(a){var s=a.state;return t(),ki(s,n)},getRenderState:function(a,s){var u,o=this.getWidgetRenderState(s);return M(M({},a),{},{configure:M(M({},o),{},{widgetParams:M(M({},o.widgetParams),{},{searchParameters:lt(new re.SearchParameters((u=a.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new re.SearchParameters(o.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(a){var s=a.helper;return r.refine||(r.refine=i(s)),{refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(a,s){var u=s.uiState;return lt(a,new re.SearchParameters(M(M({},u.configure),n.searchParameters)))},getWidgetUiState:function(a){return M(M({},a),{},{configure:M(M({},a.configure),n.searchParameters)})}}}},Eu=Fu;function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(n),!0).forEach(function(r){Tu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ku=function(e){var t=Eu(V);return Di(Di({},t({searchParameters:e})),{},{$$widgetType:"ais.configure"})},Au=ku;function Tt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tt=function(t){return typeof t}:Tt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function Du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iu(e,t,n){return t&&Ii(e.prototype,t),n&&Ii(e,n),e}function Cu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}function Sn(e,t){return Sn=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sn(e,t)}function Nu(e){var t=qu();return function(){var n=kt(e),r;if(t){var i=kt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Hu(this,r)}}function Hu(e,t){return t&&(Tt(t)==="object"||typeof t=="function")?t:ve(e)}function ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lu={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:V,onSubmit:V,onReset:V,refine:V},Ci=function(e){Cu(n,e);var t=Nu(n);function n(){var r;Du(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),be(ve(r),"state",{query:r.props.query,focused:!1}),be(ve(r),"input",du()),be(ve(r),"onInput",function(u){var o=r.props,f=o.searchAsYouType,c=o.refine,h=o.onChange,p=u.target.value;f&&c(p),r.setState({query:p}),h(u)}),be(ve(r),"onSubmit",function(u){var o=r.props,f=o.searchAsYouType,c=o.refine,h=o.onSubmit;return u.preventDefault(),u.stopPropagation(),r.input.current&&r.input.current.blur(),f||c(r.state.query),h(u),!1}),be(ve(r),"onReset",function(u){var o=r.props,f=o.refine,c=o.onReset,h="";r.input.current&&r.input.current.focus(),f(h),r.setState({query:h}),c(u)}),be(ve(r),"onBlur",function(){r.setState({focused:!1})}),be(ve(r),"onFocus",function(){r.setState({focused:!0})}),r}return Iu(n,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(r){!this.state.focused&&r.query!==this.state.query&&this.setState({query:r.query})}},{key:"render",value:function(){var r=this.props,i=r.cssClasses,a=r.placeholder,s=r.autofocus,u=r.showSubmit,o=r.showReset,f=r.showLoadingIndicator,c=r.templates,h=r.isSearchStalled;return W("div",{className:i.root},W("form",{action:"",role:"search",className:i.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},W("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:i.input,type:"search",placeholder:a,autoFocus:s,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),W(Ke,{templateKey:"submit",rootTagName:"button",rootProps:{className:i.submit,type:"submit",title:"Submit the search query.",hidden:!u},templates:c,data:{cssClasses:i}}),W(Ke,{templateKey:"reset",rootTagName:"button",rootProps:{className:i.reset,type:"reset",title:"Clear the search query.",hidden:!(o&&this.state.query.trim()&&!h)},templates:c,data:{cssClasses:i}}),f&&W(Ke,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:i.loadingIndicator,hidden:!h},templates:c,data:{cssClasses:i}})))}}]),n}(Ae);be(Ci,"defaultProps",Lu);var Mu=Ci;function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(n),!0).forEach(function(r){Hi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uu=me({name:"hits",connector:!0}),Qu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return gr(e,Uu()),function(n){var r=n||{},i=r.escapeHTML,a=i===void 0?!0:i,s=r.transformItems,u=s===void 0?function(c){return c}:s,o,f;return{$$type:"ais.hits",init:function(c){e(we(we({},this.getWidgetRenderState(c)),{},{instantSearchInstance:c.instantSearchInstance}),!0)},render:function(c){var h=this.getWidgetRenderState(c);e(we(we({},h),{},{instantSearchInstance:c.instantSearchInstance}),!1),h.sendEvent("view",h.hits)},getRenderState:function(c,h){return we(we({},c),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(c){var h=c.results,p=c.helper,l=c.instantSearchInstance;if(o||(o=Uo({instantSearchInstance:l,index:p.getIndex(),widgetType:this.$$type})),f||(f=Qo({index:p.getIndex(),widgetType:this.$$type})),!h)return{hits:[],results:void 0,sendEvent:o,bindEvent:f,widgetParams:n};a&&h.hits.length>0&&(h.hits=lo(h.hits));var g=No(h.hits,h.page,h.hitsPerPage),y=qo(g,h.queryID),b=u(y,{results:h});return{hits:b,results:h,sendEvent:o,bindEvent:f,widgetParams:n}},dispose:function(c){var h=c.state;return t(),a?h.setQueryParameters(Object.keys(ct).reduce(function(p,l){return we(we({},p),{},Hi({},l,void 0))},{})):h},getWidgetSearchParameters:function(c){return a?c.setQueryParameters(ct):c}}}},Bu=Qu;function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qi(Object(n),!0).forEach(function(r){Wu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}var $u=function(e){var t=e.results,n=e.hits,r=e.bindEvent,i=e.cssClasses,a=e.templateProps;return t.hits.length===0?W(Ke,At({},a,{templateKey:"empty",rootProps:{className:z(i.root,i.emptyRoot)},data:t})):W("div",{className:i.root},W("ol",{className:i.list},n.map(function(s,u){return W(Ke,At({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:i.item},key:s.objectID,data:Li(Li({},s),{},{__hitIndex:u}),bindEvent:r}))})))},Vu=$u,Ku={empty:"No results",item:function(e){return JSON.stringify(e,null,2)}},Ju=Ku;function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mi(Object(n),!0).forEach(function(r){zu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu=function(e,t){return t.map(function(n){var r=eo(e,function(i){return i.objectID===n});if(typeof r>"u")throw new Error('Could not find objectID "'.concat(n,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return r})},Yu=function(e){var t=un(e.map(function(r){return r.__queryID}));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if(typeof n!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n},Zu=function(e){return e.map(function(t){return t.__position})},Xu=function(e){var t=e.method,n=e.results,r=e.hits,i=e.objectIDs,a=n.index,s=Gu(r,i),u=Yu(s);switch(t){case"clickedObjectIDsAfterSearch":{var o=Zu(s);return{index:a,queryID:u,objectIDs:i,positions:o}}case"convertedObjectIDsAfterSearch":return{index:a,queryID:u,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}},ef=function(e,t,n){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var u=a[0];if(!e){var o=me({name:"instantsearch"});throw new Error(o("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(u.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var f=Xu({method:r,results:t,hits:n,objectIDs:u.objectIDs});e(r,Dt(Dt({},f),u))}};function tf(e){return function(t,n){return e(function(r,i){var a=r.results,s=r.hits,u=r.instantSearchInstance;if(a&&s&&u){var o=ef(u.insightsClient,a,s);return t(Dt(Dt({},r),{},{insights:o}),i)}return t(r,i)},n)}}var Ui=function(e,t,n){for(var r=e;r&&!n(r);){if(r===t)return null;r=r.parentElement}return r},nf=function(e){var t=e.getAttribute("data-insights-event");if(typeof t!="string")throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return Ar(t)}catch{throw new Error("The insights middleware was unable to parse `data-insights-event`.")}},rf=function(e){function t(n){var r=function(i){if(n.sendEvent){var a=Ui(i.target,i.currentTarget,function(h){return h.hasAttribute("data-insights-event")});if(a){var s=nf(a);s.forEach(function(h){return n.sendEvent(h)})}}var u=Ui(i.target,i.currentTarget,function(h){return rc(h)});if(u){var o=nc(u),f=o.method,c=o.payload;n.insights(f,c)}};return W("div",{onClick:r},W(e,n))}return t},af=rf;function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qi(Object(n),!0).forEach(function(r){sf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var of=me({name:"hits"}),It=Te("Hits"),cf=af(Vu),uf=function(e){var t=e.renderState,n=e.cssClasses,r=e.containerNode,i=e.templates;return function(a,s){var u=a.hits,o=a.results,f=a.instantSearchInstance,c=a.insights,h=a.bindEvent;if(s){t.templateProps=Gs({defaultTemplates:Ju,templatesConfig:f.templatesConfig,templates:i});return}xt(W(cf,{cssClasses:n,hits:u,results:o,templateProps:t.templateProps,insights:c,sendEvent:function(p){f.sendEventToInsights(p)},bindEvent:h}),r)}},ff=function(e){var t=e||{},n=t.container,r=t.escapeHTML,i=t.transformItems,a=t.templates,s=a===void 0?{}:a,u=t.cssClasses,o=u===void 0?{}:u;if(!n)throw new Error(of("The `container` option is required."));var f=or(n),c={root:z(It(),o.root),emptyRoot:z(It({modifierName:"empty"}),o.emptyRoot),list:z(It({descendantName:"list"}),o.list),item:z(It({descendantName:"item"}),o.item)},h=uf({containerNode:f,cssClasses:c,renderState:{},templates:s}),p=tf(Bu)(h,function(){return xt(null,f)});return Bi(Bi({},p({escapeHTML:r,transformItems:i})),{},{$$widgetType:"ais.hits"})},lf=ff,hf={reset:`
<svg class="{{cssClasses.resetIcon}}" viewBox="0 0 20 20" width="10" height="10">
  <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"></path>
</svg>
  `,submit:`
<svg class="{{cssClasses.submitIcon}}" width="10" height="10" viewBox="0 0 40 40">
  <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>
</svg>
  `,loadingIndicator:`
<svg class="{{cssClasses.loadingIcon}}" width="16" height="16" viewBox="0 0 38 38" stroke="#444">
  <g fill="none" fillRule="evenodd">
    <g transform="translate(1 1)" strokeWidth="2">
      <circle strokeOpacity=".5" cx="18" cy="18" r="18" />
      <path d="M36 18c0-9.94-8.06-18-18-18">
        <animateTransform
          attributeName="transform"
          type="rotate"
          from="0 18 18"
          to="360 18 18"
          dur="1s"
          repeatCount="indefinite"
        />
      </path>
    </g>
  </g>
</svg>
  `},pf=hf;function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wi(Object(n),!0).forEach(function(r){df(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gf=me({name:"search-box",connector:!0}),mf=function(e,t){return t(e)},yf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return gr(e,gf()),function(n){var r=n||{},i=r.queryHook,a=i===void 0?mf:i,s,u;return{$$type:"ais.searchBox",init:function(o){var f=o.instantSearchInstance;e(_e(_e({},this.getWidgetRenderState(o)),{},{instantSearchInstance:f}),!0)},render:function(o){var f=o.instantSearchInstance;e(_e(_e({},this.getWidgetRenderState(o)),{},{instantSearchInstance:f}),!1)},dispose:function(o){var f=o.state;return t(),f.setQueryParameter("query",void 0)},getRenderState:function(o,f){return _e(_e({},o),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(o){var f=o.helper,c=o.searchMetadata,h=o.state;return s||(s=function(p){a(p,function(l){return f.setQuery(l).search()})},u=function(){f.setQuery("").search()}),{query:h.query||"",refine:s,clear:u,widgetParams:n,isSearchStalled:c.isSearchStalled}},getWidgetUiState:function(o,f){var c=f.searchParameters,h=c.query||"";return h===""||o&&o.query===h?o:_e(_e({},o),{},{query:h})},getWidgetSearchParameters:function(o,f){var c=f.uiState;return o.setQueryParameter("query",c.query||"")}}}},vf=yf;function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$i(Object(n),!0).forEach(function(r){bf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wf=me({name:"search-box"}),le=Te("SearchBox"),_f=function(e){var t=e.containerNode,n=e.cssClasses,r=e.placeholder,i=e.templates,a=e.autofocus,s=e.searchAsYouType,u=e.showReset,o=e.showSubmit,f=e.showLoadingIndicator;return function(c){var h=c.refine,p=c.query,l=c.isSearchStalled;xt(W(Mu,{query:p,placeholder:r,autofocus:a,refine:h,searchAsYouType:s,templates:i,showSubmit:o,showReset:u,showLoadingIndicator:f,isSearchStalled:l,cssClasses:n}),t)}},Of=function(e){var t=e||{},n=t.container,r=t.placeholder,i=r===void 0?"":r,a=t.cssClasses,s=a===void 0?{}:a,u=t.autofocus,o=u===void 0?!1:u,f=t.searchAsYouType,c=f===void 0?!0:f,h=t.showReset,p=h===void 0?!0:h,l=t.showSubmit,g=l===void 0?!0:l,y=t.showLoadingIndicator,b=y===void 0?!0:y,w=t.queryHook,P=t.templates,j=P===void 0?{}:P;if(!n)throw new Error(wf("The `container` option is required."));var E=or(n),x={root:z(le(),s.root),form:z(le({descendantName:"form"}),s.form),input:z(le({descendantName:"input"}),s.input),submit:z(le({descendantName:"submit"}),s.submit),submitIcon:z(le({descendantName:"submitIcon"}),s.submitIcon),reset:z(le({descendantName:"reset"}),s.reset),resetIcon:z(le({descendantName:"resetIcon"}),s.resetIcon),loadingIndicator:z(le({descendantName:"loadingIndicator"}),s.loadingIndicator),loadingIcon:z(le({descendantName:"loadingIcon"}),s.loadingIcon)},F=Ct(Ct({},pf),j),q=_f({containerNode:E,cssClasses:x,placeholder:i,templates:F,autofocus:o,searchAsYouType:c,showReset:p,showSubmit:g,showLoadingIndicator:b}),v=vf(q,function(){return xt(null,E)});return Ct(Ct({},v({queryHook:w})),{},{$$widgetType:"ais.searchBox"})},Rf=Of;const Pn=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});let xn=!0;console.log("hello world app.js"),window.instantsearch=ui,window.search=ui({indexName:"boxes",searchClient:Na("https://165.227.85.27","8f3b1fa21c58a8278e940c80694866b863defb7e5ecafd4b323d21758885316d"),searchFunction(e){console.log(Pn.q&&!e.state.query&&xn),Pn.q&&!e.state.query&&xn?(e.setQuery(Pn.q),e.search(),xn=!1):e.search()}});async function jf(e){return await(await fetch(`/template/${e}`)).text()}search.addWidgets([Au({}),Rf({container:"#searchbox",placeholder:"Search",showReset:!1,searchAsYouType:!0,templates:{submit(e,t,n){return'<i class="far fa-magnifying-glass text-xl"></i>'}},cssClasses:{input:"w-64 transition-all duration-500 focus:w-full max-w-screen-md rounded-full px-5",submitIcon:"w-5 h-5 fill-current",form:"flex relative items-center mb-0 justify-end mr-8 mr-6 md:mr-0",submit:"absolute right-5 hover:text-blue-600",root:"flex-grow"}}),lf({container:"#hits",gap:3,colClass:"w-full sm:w-1/2 md:w-1/3 max-w-screen-sm",cssClasses:{root:"MyCustomHits",list:"flex items-center justify-start -my-3 -mx-3 flex-wrap",item:"py-3 px-3 w-full sm:w-1/2 md:w-1/3 max-w-screen-sm"},templates:{item:await jf("box")}})]),search.start(),document.querySelector("#searchbox form").setAttribute("action","/search"),document.querySelector("#searchbox form input").setAttribute("name","q"),document.querySelector("#searchbox form").addEventListener("submit",function(e){e.target.submit()})})();
